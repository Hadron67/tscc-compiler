{"code":"import * as tslib_1 from \"tslib\";\r\nimport { BitSet } from '../util/bitset';\r\nimport { YYTAB } from '../util/common';\r\nimport { CharSet } from './char-set';\r\nexport var Action;\r\n(function (Action) {\r\n    Action[Action[\"START\"] = 0] = \"START\";\r\n    Action[Action[\"END\"] = 1] = \"END\";\r\n    Action[Action[\"NONE\"] = 2] = \"NONE\";\r\n})(Action || (Action = {}));\r\nvar maxlen = 0;\r\nvar StateArray = (function (_super) {\r\n    tslib_1.__extends(StateArray, _super);\r\n    function StateArray() {\r\n        var _this = _super.call(this, 0) || this;\r\n        Object.setPrototypeOf(_this, StateArray.prototype);\r\n        return _this;\r\n    }\r\n    StateArray.prototype.add = function (s) {\r\n        for (var _i = 0, _a = this; _i < _a.length; _i++) {\r\n            var s2 = _a[_i];\r\n            if (s === s2) {\r\n                return;\r\n            }\r\n        }\r\n        this.length > maxlen && (maxlen = this.length);\r\n        this.push(s);\r\n    };\r\n    StateArray.prototype.union = function (s) {\r\n        for (var _i = 0, s_1 = s; _i < s_1.length; _i++) {\r\n            var state = s_1[_i];\r\n            this.add(state);\r\n        }\r\n    };\r\n    StateArray.prototype.toArray = function () {\r\n        var ret = [];\r\n        for (var _i = 0, _a = this; _i < _a.length; _i++) {\r\n            var s = _a[_i];\r\n            ret.push(s);\r\n        }\r\n        return ret;\r\n    };\r\n    return StateArray;\r\n}(Array));\r\nvar Arc = (function () {\r\n    function Arc(from, to) {\r\n        this.chars = new CharSet();\r\n        this.from = from;\r\n        this.to = to;\r\n    }\r\n    return Arc;\r\n}());\r\nexport { Arc };\r\nvar EndAction = (function () {\r\n    function EndAction() {\r\n        this.priority = 0;\r\n        this.id = 0;\r\n        this.data = null;\r\n    }\r\n    return EndAction;\r\n}());\r\nexport { EndAction };\r\nvar State = (function () {\r\n    function State(endAction) {\r\n        this.valid = false;\r\n        this.arcs = [];\r\n        this.epsilons = [];\r\n        this.index = -1;\r\n        this.isStart = false;\r\n        this.isEnd = false;\r\n        this.endAction = endAction || null;\r\n    }\r\n    State.prototype.findArc = function (to) {\r\n        for (var _i = 0, _a = this.arcs; _i < _a.length; _i++) {\r\n            var arc = _a[_i];\r\n            if (arc.to === to) {\r\n                return arc;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    State.prototype.to = function (s) {\r\n        var arc = this.findArc(s);\r\n        if (arc === null) {\r\n            arc = new Arc(this, s);\r\n            this.arcs.push(arc);\r\n        }\r\n        s.valid = true;\r\n        return arc;\r\n    };\r\n    State.prototype.epsilonTo = function (s) {\r\n        this.epsilons.push(s);\r\n    };\r\n    State.prototype.forEach = function (cb, epOnly) {\r\n        if (epOnly === void 0) { epOnly = false; }\r\n        var queue = [this];\r\n        var deja = [];\r\n        deja[this.index] = true;\r\n        while (queue.length > 0) {\r\n            var s = queue.pop();\r\n            cb(s);\r\n            if (!epOnly) {\r\n                for (var j = 0; j < s.arcs.length; j++) {\r\n                    var to = s.arcs[j].to;\r\n                    if (!deja[to.index]) {\r\n                        queue.push(to);\r\n                        deja[to.index] = true;\r\n                    }\r\n                }\r\n            }\r\n            for (var j = 0; j < s.epsilons.length; j++) {\r\n                var to = s.epsilons[j];\r\n                if (!deja[to.index]) {\r\n                    queue.push(to);\r\n                    deja[to.index] = true;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    State.prototype.number = function () {\r\n        var i = 0;\r\n        this.forEach(function (state) {\r\n            state.index = i++;\r\n        });\r\n    };\r\n    State.prototype.toString = function (recursive) {\r\n        recursive = !!recursive;\r\n        function single() {\r\n            var ret = 'state ' + this.index;\r\n            if (this.isStart) {\r\n                ret += '(start)';\r\n            }\r\n            if (this.endAction) {\r\n                ret += '(end: ' + this.endAction.id + ')';\r\n            }\r\n            ret += '\\n';\r\n            for (var i = 0; i < this.arcs.length; i++) {\r\n                var arc = this.arcs[i];\r\n                ret += YYTAB + arc.chars.toString() + ' -> state ' + arc.to.index + '\\n';\r\n            }\r\n            if (this.epsilons.length > 0) {\r\n                ret += YYTAB + 'epsilon: ';\r\n                for (var i = 0; i < this.epsilons.length; i++) {\r\n                    if (i > 0) {\r\n                        ret += ',';\r\n                    }\r\n                    ret += this.epsilons[i].index;\r\n                }\r\n                ret += '\\n';\r\n            }\r\n            return ret;\r\n        }\r\n        if (!recursive) {\r\n            return single.call(this);\r\n        }\r\n        else {\r\n            var ret = '';\r\n            this.forEach(function (state) {\r\n                ret += single.call(state) + '\\n';\r\n            });\r\n            return ret;\r\n        }\r\n    };\r\n    State.prototype.copyEndFrom = function (state) {\r\n        if (state.endAction !== null) {\r\n            if (this.endAction !== null) {\r\n                if (this.endAction.priority < state.endAction.priority) {\r\n                    this.endAction = state.endAction;\r\n                }\r\n            }\r\n            else {\r\n                this.endAction = state.endAction;\r\n            }\r\n        }\r\n    };\r\n    State.prototype.removeEpsilons = function () {\r\n        var cela = this;\r\n        var valid = [this];\r\n        this.forEach(function (s) {\r\n            if (s.valid) {\r\n                valid.push(s);\r\n            }\r\n        });\r\n        for (var i = 0; i < valid.length; i++) {\r\n            var s = valid[i];\r\n            s.forEach(function (state) {\r\n                if (state !== s) {\r\n                    for (var j = 0; j < state.arcs.length; j++) {\r\n                        var arc = state.arcs[j];\r\n                        s.to(arc.to).chars.union(arc.chars);\r\n                    }\r\n                    s.copyEndFrom(state);\r\n                }\r\n            }, true);\r\n            s.epsilons.length = 0;\r\n        }\r\n        for (var i = 0; i < valid.length; i++) {\r\n            valid[i].index = i;\r\n        }\r\n    };\r\n    State.prototype.count = function () {\r\n        var c = 0;\r\n        this.forEach(function () {\r\n            c++;\r\n        });\r\n        return c;\r\n    };\r\n    State.prototype.size = function () {\r\n        var i = 0;\r\n        this.forEach(function () {\r\n            i++;\r\n        });\r\n        return i;\r\n    };\r\n    State.prototype.allChars = function (set) {\r\n        var cela = this;\r\n        for (var i = 0; i < this.arcs.length; i++) {\r\n            var arc = this.arcs[i];\r\n            arc.chars.forEach(function (a, b) {\r\n                set.add(a, b, arc.to);\r\n            });\r\n        }\r\n    };\r\n    State.prototype.getState = function (char) {\r\n        for (var i = 0; i < this.arcs.length; i++) {\r\n            var arc = this.arcs[i];\r\n            if (arc.chars.contains(char)) {\r\n                return arc.to;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    State.prototype.hasArc = function () {\r\n        return this.arcs.length > 0;\r\n    };\r\n    State.prototype.toDFA = function () {\r\n        var dfaStates = {};\r\n        var states = [];\r\n        var dfaCount = 0;\r\n        var stateCount = this.count();\r\n        var set = new CharSet(function () { return new StateArray(); });\r\n        var cela = this;\r\n        var initState = new CompoundState(stateCount, [this]);\r\n        initState.index = dfaCount++;\r\n        states.push(initState);\r\n        var lastState = initState;\r\n        dfaStates[initState.hash()] = initState;\r\n        var queue = [initState];\r\n        while (queue.length > 0) {\r\n            var s = queue.shift();\r\n            set.removeAll();\r\n            s.allChars(set);\r\n            set.forEach(function (chara, charb, it) {\r\n                var cpState = new CompoundState(stateCount, it.dataSet.toArray());\r\n                var cphash = cpState.hash();\r\n                if (dfaStates[cphash]) {\r\n                    cpState = dfaStates[cphash];\r\n                }\r\n                else {\r\n                    dfaStates[cphash] = cpState;\r\n                    queue.push(cpState);\r\n                    cpState.index = dfaCount++;\r\n                    states.push(cpState);\r\n                }\r\n                s.to(cpState).chars.add(chara, charb);\r\n            });\r\n        }\r\n        initState.release();\r\n        return {\r\n            head: initState,\r\n            states: states\r\n        };\r\n    };\r\n    return State;\r\n}());\r\nexport { State };\r\nvar CompoundState = (function (_super) {\r\n    tslib_1.__extends(CompoundState, _super);\r\n    function CompoundState(stateCount, states) {\r\n        var _this = _super.call(this) || this;\r\n        _this.isEnd = _this.isStart = false;\r\n        _this.valid = true;\r\n        _this.states = states;\r\n        _this.stateSet = new BitSet(stateCount);\r\n        for (var i = 0; i < states.length; i++) {\r\n            _this.stateSet.add(states[i].index);\r\n            _this.copyEndFrom(states[i]);\r\n            _this.isStart = _this.isStart || states[i].isStart;\r\n        }\r\n        return _this;\r\n    }\r\n    CompoundState.prototype.hash = function () {\r\n        return this.stateSet.hash();\r\n    };\r\n    CompoundState.prototype.allChars = function (set) {\r\n        for (var i = 0; i < this.states.length; i++) {\r\n            this.states[i].allChars(set);\r\n        }\r\n    };\r\n    CompoundState.prototype.forEach = function (cb) {\r\n        _super.prototype.forEach.call(this, cb);\r\n    };\r\n    CompoundState.prototype.release = function () {\r\n        this.forEach(function (state) {\r\n            state.states.length = 0;\r\n        });\r\n    };\r\n    return CompoundState;\r\n}(State));\r\n//# sourceMappingURL=state.js.map","map":{"version":3,"file":"state.js","sourceRoot":"","sources":["../src/lexer/state.ts"],"names":[],"mappings":"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"}}
