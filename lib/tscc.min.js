!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.tscc={})}(this,function(t){"use strict";var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function n(t,n){e(t,n);function r(){this.constructor=t}t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var r=32,i=function(){function t(t){this._size=t,this._s=new Array(Math.ceil(t/r));for(var e=0;e<this._s.length;e++)this._s[e]=0}return t.prototype.add=function(t){var e=Math.floor(t/r),n=t-e*r,i=this._s[e];return this._s[e]|=1<<n,i!==this._s[e]},t.prototype.addAll=function(){for(var t=0;t<this._s.length;t++)this._s[t]=-1},t.prototype.remove=function(t){var e=Math.floor(t/r),n=t-e*r,i=this._s[e];return this._s[e]&=~(1<<n),i!==this._s[e]},t.prototype.removeAll=function(){for(var t=0;t<this._s.length;t++)this._s[t]=0},t.prototype.contains=function(t){var e=Math.floor(t/r),n=t-e*r;return 0!=(this._s[e]&1<<n)},t.prototype.union=function(t,e){for(var n=!1,r=0;r<this._s.length;r++){var i=this._s[r],a=t._s[r];e&&(a&=e._s[r]),this._s[r]|=a,n=this._s[r]!==i||n}return n},t.prototype.hasIntersection=function(t){for(var e=0;e<this._s.length;e++)if(0!=(this._s[e]&t._s[e]))return!0;return!1},t.prototype.equals=function(t){for(var e=0;e<this._s.length;e++)if(this._s[e]!==t._s[e])return!1;return!0},t.prototype.forEach=function(t){for(var e=0;e<this._size;e++)this.contains(e)&&t(e)},t.prototype.hash=function(){for(var t="",e=0;e<this._s.length;e++)t+=this._s[e].toString(16)+"-";return t},t}(),a="    ",o={assert:function(t){if(!t)throw new Error("Assertion failed")},log:function(t){}};var s=Number.POSITIVE_INFINITY,u=Number.NEGATIVE_INFINITY,l=function(){function t(t,e){this.data=null,this.a=t,this.b=e}return t.prototype.insertBefore=function(t,e,n){if(this.parent.isValid(this)&&!this.parent.noMerge&&this.a===e+1)return this.a=t,this;var r=this.parent.createInterval(t,e,n);return r.prev=this.prev,r.next=this,this.prev.next=r,this.prev=r,r},t.prototype.contains=function(t){return this.a<=t&&this.b>=t},t.prototype.overlaps=function(t,e){return!(t>this.b||e<this.a)},t.prototype.insertAfter=function(t,e,n){if(this.parent.isValid(this)&&!this.parent.noMerge&&this.b===t-1)return this.b=e,this;var r=this.parent.createInterval(t,e,n);return r.prev=this,r.next=this.next,this.next.prev=r,this.next=r,r},t.prototype.splitLeft=function(t){if(t>this.a){var e=this.insertBefore(this.a,t-1,this.data);return this.a=t,e}return this},t.prototype.splitRight=function(t){if(t<this.b){var e=this.insertAfter(t+1,this.b,this.data);return this.b=t,e}return this},t.prototype.remove=function(){return this.prev.next=this.next,this.next.prev=this.prev,this},t.prototype.checkMerge=function(){return this.a!==u&&null!==this.prev.a&&this.a===this.prev.b+1&&(this.a=this.prev.a,this.prev.remove()),this.b!==s&&null!==this.next.a&&this.b===this.next.a-1&&(this.b=this.next.b,this.next.remove()),this},t.prototype.toString=function(t){var e="";function n(t){return t===s?"+oo":t===u?"-oo":t.toString()}var r=(t||n)(this.a),i=(t||n)(this.b);return this.a===this.b?e+=r:(e+=this.a===u?"("+r:"["+r,e+=",",e+=this.b===s?i+")":i+"]"),this.data&&(e+=this.parent.dataOp.stringify(this.data)),e},t}();function c(t,e){if(t>e)throw new Error('illegal argument: "a"('+t+') must be no more than "b"('+e+")")}var h=function(){function t(t){this.head=new l(0,0),this.head.parent=this,this.tail=new l(null,null),this.tail.parent=this,this.head.next=this.tail,this.tail.prev=this.head,this.noMerge=void 0!==t,this.dataOp=t||null}return t.prototype.isValid=function(t){return t!==this.head&&t!==this.tail},t.prototype.createInterval=function(t,e,n){void 0===n&&(n=null);var r=new l(t,e);return r.parent=this,this.dataOp&&(r.data=this.dataOp.createData(),null!==n&&this.dataOp.union(r.data,n)),r},t.prototype.fitPoint=function(t,e){for(var n=this.head;n!==this.tail;n=n.next)if((n===this.head||t>n.b)&&(n.next===this.tail||e<n.next.a))return n;return null},t.prototype.overlaped=function(t,e){for(var n=null,r=null,i=this.head.next;i!==this.tail&&!i.overlaps(t,e);i=i.next);if(i===this.tail)return null;for(n=r=i;i!==this.tail&&i.overlaps(t,e);i=i.next)r=i;return[n,r]},t.prototype.add=function(t,e,n){void 0===e&&(e=t);var r=this.noMerge;c(t,e);var i=this.overlaped(t,e);if(null===i)this.fitPoint(t,e).insertAfter(t,e,n);else if(r){i[0].contains(t)?i[0].splitLeft(t):i[0].insertBefore(t,i[0].a-1,n),i[1].contains(e)?i[1].splitRight(e):i[1].insertAfter(i[1].b+1,e,n);for(var a=i[0];a!==i[1];a=a.next)this.dataOp.union(a.data,n),a.b+1<a.next.a&&(a.insertAfter(a.b+1,a.next.a-1,n),a=a.next);this.dataOp.union(i[1].data,n)}else{var o=t<i[0].a?t:i[0].a,s=e>i[1].b?e:i[1].b;i[0].a=o,i[0].b=s,i[0].next=i[1].next,i[1].next.prev=i[0],i[0].checkMerge()}return this},t.prototype.remove=function(t,e){c(t,e);var n=this.overlaped(t,e);return null!==n&&(n[0].contains(t)&&n[0].splitLeft(t),n[1].contains(e)&&n[1].splitRight(e),n[0].prev.next=n[1].next,n[1].next.prev=n[0].prev),this},t.prototype.removeAll=function(){return this.head.next=this.tail,this.tail.prev=this.head,this},t.prototype.forEach=function(t){for(var e=this.head.next;e!==this.tail;e=e.next)t(e.a,e.b,e);return this},t.prototype.union=function(t){for(var e=t.head.next;e!==t.tail;e=e.next)this.add(e.a,e.b);return this},t.prototype.contains=function(t){for(var e=this.head.next;e!==this.tail;e=e.next)if(e.contains(t))return!0;return!1},t.prototype.toString=function(t){for(var e="",n=!1,r=this.head.next;r!==this.tail;r=r.next)n&&(e+=","),n=!0,e+=r.toString(t);return""===e?"phi":e},t}(),f=function(t){n(e,t);function e(e){return t.call(this,e)||this}return e.prototype.addAll=function(){t.prototype.add.call(this,0,s)},e.prototype.constainsAll=function(){var t=this.head.next;return t.next===this.tail&&0===t.a&&t.b===s},e.prototype.toString=function(){return t.prototype.toString.call(this,function(t){return t!==s&&t!==u?t>=32&&t<=126?"'"+String.fromCharCode(t)+"'":"\\x"+t.toString(16):t===s?"oo":"-oo"})},e}(h),d="\n",p=function(){function t(){}return t.prototype.writeln=function(t){t&&this.write(t),this.write(d)},t}(),v=function(t){n(e,t);function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.s="",e}return e.prototype.write=function(t){this.s+=t},e.prototype.reset=function(){this.s=""},e}(p);function g(t){var e=[];return{peek:function(){return e.length>0?e[e.length-1]:t.peek()},next:function(){return e.length>0?e.pop():t.next()},backup:function(t){e.push(t)}}}var m,k=Object.freeze({endl:d,OutputStream:p,StringOS:v,StringIS:function(t){var e=0;return{peek:function(){return t.charAt(e)||null},next:function(){var t=this.peek();return e++,t}}},biss:g});(x=m||(m={}))[x.START=0]="START",x[x.END=1]="END",x[x.NONE=2]="NONE";var x,b=function(){return function(t,e){this.chars=new f,this.from=t,this.to=e}}(),y=function(){return function(){this.priority=0,this.id=0,this.data=null}}(),S=function(){function t(t){this.valid=!1,this.arcs=[],this.epsilons=[],this.index=0,this.isStart=!1,this.isEnd=!1,this.marker=!1,this.endAction=null,this.endAction=t||null}return t.prototype.findArc=function(t){for(var e=0,n=this.arcs;e<n.length;e++){var r=n[e];if(r.to===t)return r}return null},t.prototype.to=function(t){var e=this.findArc(t);return null===e&&(e=new b(this,t),this.arcs.push(e)),t.valid=!0,e},t.prototype.epsilonTo=function(t){this.epsilons.push(t)},t.prototype.hasDefinate=function(){return 1===this.arcs.length&&this.arcs[0].chars.constainsAll()},t.prototype.iterator=function(t){void 0===t&&(t=!1);var e=[this],n=[this];return this.marker=!0,function(){if(e.length>0){var r=e.pop();if(!t)for(var i=0,a=r.arcs;i<a.length;i++){var o=a[i].to;o.marker||(e.push(o),n.push(o),o.marker=!0)}for(var s=0,u=r.epsilons;s<u.length;s++){var l=u[s];l.marker||(e.push(l),n.push(l),l.marker=!0)}return r}for(var c=0,h=n;c<h.length;c++){h[c].marker=!1}return null}},t.prototype.forEach=function(t,e){void 0===e&&(e=!1);var n=[this],r=[this];for(this.marker=!0;n.length>0;){var i=n.pop();if(t(i),!e)for(var a=0,o=i.arcs;a<o.length;a++){var s=o[a].to;s.marker||(n.push(s),r.push(s),s.marker=!0)}for(var u=0,l=i.epsilons;u<l.length;u++){var c=l[u];c.marker||(n.push(c),r.push(c),c.marker=!0)}}for(var h=0,f=r;h<f.length;h++){f[h].marker=!1}},t.prototype.number=function(){var t=0;this.forEach(function(e){e.index=t++})},t.prototype.print=function(t,e){void 0===e&&(e=!0);function n(t){var e="";e+="state "+t.index,t.isStart&&(e+="(start)"),t.endAction&&(e+="(end "+t.endAction.id+")"),e+=d;for(var n=0;n<t.arcs.length;n++){var r=t.arcs[n];e+=""+a+r.chars.toString()+" -> state "+r.to.index+d}if(t.epsilons.length>0){e+=a+"epsilon: ";for(n=0;n<t.epsilons.length;n++)n>0&&(e+=","),e+=t.epsilons[n].index.toString();e+=d}return e}e?this.forEach(function(e){t.write(n(e))}):t.write(n(this))},t.prototype.toString=function(t){void 0===t&&(t=!0);var e=new v;return this.print(e,t),e.s},t.prototype.copyEndFrom=function(t){null!==t.endAction&&(null!==this.endAction?this.endAction.priority<t.endAction.priority&&(this.endAction=t.endAction):this.endAction=t.endAction)},t.prototype.removeEpsilons=function(){var t=[this];this.forEach(function(e){e.valid&&t.push(e)});for(var e=0;e<t.length;e++){var n=t[e];n.forEach(function(t){if(t!==n){for(var e=0;e<t.arcs.length;e++){var r=t.arcs[e];n.to(r.to).chars.union(r.chars)}n.copyEndFrom(t)}},!0),n.epsilons.length=0}for(e=0;e<t.length;e++)t[e].index=e},t.prototype.count=function(){var t=0;return this.forEach(function(){t++}),t},t.prototype.size=function(){var t=0;return this.forEach(function(){t++}),t},t.prototype.allChars=function(t){for(var e=0;e<this.arcs.length;e++){var n=this.arcs[e];n.chars.forEach(function(e,r){t.add(e,r,[n.to])})}},t.prototype.getState=function(t){for(var e=0;e<this.arcs.length;e++){var n=this.arcs[e];if(n.chars.contains(t))return n.to}return null},t.prototype.hasArc=function(){return this.arcs.length>0},t.prototype.clone=function(){},t.prototype.toDFA=function(){var t={},e=[],n=0,r=this.count(),i=new f({createData:function(){return[]},union:function(t,e){for(var n=0,r=e;n<r.length;n++){for(var i=r[n],a=!1,o=0,s=t;o<s.length;o++){if(i===s[o]){a=!0;break}}!a&&t.push(i)}},stringify:function(t){return""}}),a=new T(r,[this]);a.index=n++,e.push(a),t[a.hash()]=a;for(var o=[a];o.length>0;){var s=o.shift();i.removeAll(),s.allChars(i),i.forEach(function(i,a,u){var l=new T(r,u.data),c=l.hash();t[c]?l=t[c]:(t[c]=l,o.push(l),l.index=n++,e.push(l)),s.to(l).chars.add(i,a)})}return a.release(),{head:a,states:e}},t}(),T=function(t){n(e,t);function e(e,n){var r=t.call(this)||this;r.isEnd=r.isStart=!1,r.valid=!0,r.states=n,r.stateSet=new i(e);for(var a=0;a<n.length;a++)r.stateSet.add(n[a].index),r.copyEndFrom(n[a]),r.isStart=r.isStart||n[a].isStart;return r}return e.prototype.hash=function(){return this.stateSet.hash()},e.prototype.allChars=function(t){for(var e=0;e<this.states.length;e++)this.states[e].allChars(t)},e.prototype.forEach=function(e){t.prototype.forEach.call(this,e)},e.prototype.release=function(){this.forEach(function(t){t.states.length=0})},e}(S),E=function(){function t(t){this.states=t,this.start=t[0]}return t.prototype.forEachArc=function(t){for(var e=0,n=this.states;e<n.length;e++)for(var r=n[e],i=0,a=r.arcs;i<a.length;i++){var o=a[i];t(o,r,o.to)}},t.prototype.print=function(t){for(var e=0,n=this.states;e<n.length;e++){n[e].print(t,!1),t.writeln()}},t.prototype.toString=function(){for(var t="",e=0;e<this.states.length;e++)t+=this.states[e].toString()+"\n";return t},t.prototype.matcher=function(t){var e,n=g(t),r=[],i=[],a=null,o=n.peek();function s(){null!==a&&r.push(o),i.push(o),n.next(),o=n.peek()}function u(){for(e=a,a=null;r.length>0;)n.backup(r.pop()),i.pop()}var l=this;return function(){o=n.peek(),e=l.start,i.length=0,r.length=0,a=null;for(var t;;)if(null!==e.endAction){if(!e.hasArc())return{matched:i.join(""),action:e.endAction};if(null===(t=null!==o?e.getState(o.charCodeAt(0)):null))return{matched:i.join(""),action:e.endAction};r.length=0,a=e,e=t,s()}else{if(null===(t=null!==o?e.getState(o.charCodeAt(0)):null)){if(null!==a)return u(),{matched:i.join(""),action:e.endAction};if(null===o)return null;throw new Error('unexpected character "'+o+'"')}e=t,s()}}},t}(),w=function(){function t(t,e){void 0===e&&(e="Error"),this.msg=t,this.type=e}return t.prototype.toString=function(t){void 0===t&&(t={});var e=!!t.escape,n=this.type;return t.typeClass&&(n='<span class="'+t.typeClass+'">'+n+"</span>"),n+=": ",n+=e?this.msg.replace(/</g,"&lt").replace(/>/g,"&gt"):this.msg},t}(),A=(function(t){n(e,t);function e(e,n){var r=t.call(this,e,"CompilationError")||this;return r.line=n,r}e.prototype.toString=function(e){return t.prototype.toString.call(this,e)+" (at line "+this.line+")"}}(w),function(t){n(e,t);function e(e){return t.call(this,e,"Warning")||this}return e}(w)),C=function(t){n(e,t);function e(e){return t.call(this,e,"PatternException")||this}return e}(w);function N(t,e){var n=[{sptr:0,s:t,name:""}],r=n[0];return{next:function(){r.sptr++,r.sptr>=r.s.length&&(n.length>1&&n.pop(),r=n[n.length-1])},peek:function(){return r.s[r.sptr]||null},pushTo:function(t){var i=e?e[t]:null;if(!i)throw new C('undefined name "'+t+'"');!function(t){for(var e=0;e<n.length;e++)if(n[e].name===t)throw new C('cannot use pattern "'+t+'" which leads to loop reference')}(t),n.push({sptr:0,s:"("+i+")",name:t}),r=n[n.length-1]}}}function R(t,e){void 0===e&&(e={});var n=N(t,e),r=n.peek();function i(){n.next(),r=n.peek()}function a(t){if(null===r)throw new C("unexpected end of string"+(t?", "+t:""))}function o(){return new S}function s(){return null===r}function u(t){if(r!==t)throw new C('unexpected character "'+r+'",expecting "'+t+'"');i()}function l(t){for(var e=c(t);!s()&&"|"===r;){i();var n=o();t.epsilonTo(n),c(n).epsilonTo(e)}return e}function c(t){var e=t;do{e=h(e)}while(!s()&&"|"!==r&&")"!==r);return e}function h(t){var e=o();t.epsilonTo(e);var h=function(t){{if(a(),"("===r){i();var e=l(t);return u(")"),e}if("."===r){i();var e=o();return t.to(e).chars.addAll(),e}if("["===r){i();var h="^"===r;h&&i();var e=o(),p=t.to(e).chars;for(h&&p.addAll();"]"!==r&&!s();)d(p,h);return u("]"),e}if("{"===r){i();for(var v="";"}"!==r;)a(),v+=r,i();return i(),n.pushTo(v),r=n.peek(),c(t)}var e=o();return t.to(e).chars.add(f()),e}}(e);if("*"===r){i(),h.epsilonTo(e);var p=o();return e.epsilonTo(p),p}if("+"===r){i();var v=o();return h.epsilonTo(v),v.epsilonTo(e),v}if("?"===r){i();var g=o();return e.epsilonTo(g),h.epsilonTo(g),g}return h}function f(){if(a(),"\\"===r){i();var t=r.charCodeAt(0);switch(r){case"t":t="\t";case"n":t="\n";case"r":t="\r";case"x":i();for(var e="";null!==r&&/[0-9a-fA-F]/.test(r);)e+=r,i();return parseInt(e,16);default:t=r}return i(),t.charCodeAt(0)}var n=r.charCodeAt(0);return i(),n}function d(t,e){var n=f(),a=n,o=n;if("-"===r&&(i(),(o=f())<a))throw new C('left hand side must be larger than right hand side in wild card character (got "'+a.toString(16)+'" < "'+o.toString(16)+'")');e?t.remove(a,o):t.add(a,o)}var p=o();p.isStart=!0;return{result:p,tail:l(p)}}function L(t){void 0===t&&(t={});var e=[],n=0;var r=new S;return{lexRule:function(i,a,o,s){var u=new y;u.priority=n++,u.id=a,u.data=o||null;var l=s?function(t){var e=0,n=t.charAt(e);function r(){return new S}var i=r();i.isStart=!0;for(var a=i;null!==n;){var o=r();a.to(o).chars.add(n.charCodeAt(0)),a=o,n=t.charAt(++e)||null}return{result:i,tail:a}}(i):R(i,t);l.tail.endAction=u,r.epsilonTo(l.result),e.push(u)},done:function(){r.removeEpsilons();var t=r.toDFA();return new E(t.states)}}}var I,_=Object.freeze({lexer:function(t,e){var n;n="function"!=typeof t?function(){return t.shift()||null}:t;for(var r=L(e),i=n();null!==i;)r.lexRule(i.regexp,i.id,i.data,i.raw),i=n();return r.done()},lexerBuilder:L}),D=function(t){n(e,t);function e(e){return t.call(this,e)||this}return e.prototype.toString=function(t){var e="",n=!0;this.contains(0)&&(e+='""',n=!1);for(var r=0;r<t.tokenCount;r++)this.contains(r+1)&&(n||(e+=","),e+='"'+t.tokens[r].sym+'"',n=!1);return e},e}(i);(O=I||(I={}))[O.NONE=1]="NONE",O[O.SHIFT=2]="SHIFT",O[O.REDUCE=3]="REDUCE";var O,U,F=function(){function t(t,e){this.marker=0,this.shift=null,this.actionType=I.NONE,this.changed=!0,this.rule=t,this.isKernel=e,this.lah=new D(t.g.tokenCount)}return t.prototype.canShift=function(){return this.rule.rhs.length>this.marker},t.prototype.getShift=function(){return this.rule.rhs[this.marker]},t.prototype.toString=function(t){void 0===t&&(t={});var e=t&&t.showlah||!1,n=t&&t.showTrailer||!1,r="[ "+this.rule.toString(this.marker)+(e?",{ "+this.lah.toString(this.rule.g)+" }":"")+" ]";if(this.isKernel&&(r+="*"),n)switch(this.actionType){case I.NONE:r+="(-)";break;case I.SHIFT:r+="(s"+this.shift.stateIndex+")";break;case I.REDUCE:r+="(r)"}return r},t.prototype.hash=function(){return this.rule.index+"-"+this.marker},t.prototype.hasRRConflictWith=function(t){return this.actionType===I.REDUCE&&t.actionType===I.REDUCE&&this.rule.index!==t.rule.index&&this.lah.hasIntersection(t.lah)},t.prototype.getFollowSet=function(t){var e,n=this.rule.g;for(e=this.marker+1;e<this.rule.rhs.length;e++){var r=this.rule.rhs[e];if(n.isToken(r)){t.add(r+1);break}var i=n.nts[-r-1].firstSet;if(t.union(i),t.remove(0),!i.contains(0))break}e===this.rule.rhs.length&&t.union(this.lah)},t.NULL={},t}(),B=function(){function t(t){this.it={},this.complete=!1,this.index=-1,this.stateIndex=0,this.prev=null,this.next=null,this.merges=[],this.g=t,this.data=this}return t.prototype.add=function(t,e,n,r,i){var a=t.index+"-"+e,o=this.it[a];if(void 0===o){var s=new F(t,n);return s.marker=e,r&&s.lah.union(r),this.it[a]=s,!0}if(r){var u=o.lah.union(r);return i&&u&&o.canShift()&&(o.actionType=I.NONE),u&&(o.changed=!0),u}},t.prototype.contains=function(){},t.prototype.closure=function(){for(var t=!0,e=new D(this.g.tokenCount),n=this;t;){t=!1;for(var r in this.it){var i=this.it[r];if(i.changed&&i.canShift()){var a=i.getShift();a<0&&(e.removeAll(),i.getFollowSet(e),this.g.forEachRuleOfNt(-a-1,function(r){return t=n.add(r,0,!1,e,!1)||t,!1}))}i.changed=!1}}},t.prototype.toString=function(t){var e={showTrailer:t&&t.showTrailer||!1},n="s"+this.stateIndex;if(null!==this.index?n+="(i"+this.index:n+="(i?",this.merges.length>0){n+=",merged from ";for(var r=0;r<this.merges.length;r++)r>0&&(n+=","),n+="i"+this.merges[r]}n+=")"+d;for(var i in this.it)n+=this.it[i].toString(e)+d;return n},t.prototype.kernelHash=function(){var t=0;for(var e in this.it){var n=this.it[e];n.isKernel&&(t+=n.rule.index<<5+n.rule.index+n.marker)}return String(t)},t.prototype.forEach=function(t){for(var e in this.it)t(this.it[e])},t.prototype.canMergeTo=function(t){for(var e in this.it){var n=this.it[e],r=!1,i=!1,a=!1;for(var o in t.it){var s=t.it[o];if(n.rule.index===s.rule.index&&n.marker===s.marker&&(a=n.lah.equals(s.lah),r=n.isKernel&&s.isKernel),i=i||n.hasRRConflictWith(s),s.isKernel&&void 0===this.it[o])return!1}if(n.isKernel&&!r||i&&!a)return!1}return!0},t.prototype.mergeTo=function(t){var e=!1;for(var n in t.it){var r=t.it[n];e=this.add(r.rule,r.marker,r.isKernel,r.lah,!0)||e}return this.merges.push(t.index),e},t}(),P=function(){function t(){this.size=0,this.head={prev:null,next:null,data:null},this.tail={prev:null,next:null,data:null},this.head.next=this.tail,this.tail.prev=this.head}return t.prototype.append=function(t){t.prev=this.tail.prev,t.next=this.tail,this.tail.prev.next=t,this.tail.prev=t,this.size++},t.prototype.pull=function(){var t=this.head.next;return this.head.next=t.next,t.next.prev=this.head,t.prev=t.next=null,this.size--,t.data},t.prototype.isEmpty=function(){return 0===this.size},t.prototype.forEach=function(t){for(var e=this.head.next;e!==this.tail;e=e.next)t(e.data)},t.prototype.remove=function(t){t.next.prev=t.prev,t.prev.next=t.next,this.size--},t.prototype.iterator=function(){var t=this.head,e=this;return function(){return t!==e.tail?(t=t.next).data:null}},t}();(V=U||(U={}))[V.UNDEFINED=0]="UNDEFINED",V[V.LEFT=1]="LEFT",V[V.RIGHT=2]="RIGHT",V[V.NON=3]="NON";var V;function M(t){return null===t.alias?"<"+t.sym+">":'"'+t.alias+'"'}var G,H=function(){function t(t,e){this.defred=null,this.g=t;var n=t.tokenCount,r=t.nts.length;this.stateCount=e,this.shift=new Array(n*e),this.gotot=new Array(r*e);for(var i=0;i<this.shift.length;i++)this.shift[i]=null;for(i=0;i<this.gotot.length;i++)this.gotot[i]=null}return t.prototype.forEachShift=function(t){for(var e=0;e<this.stateCount;e++)for(var n=0;n<this.g.tokens.length;n++){var r=this.lookupShift(e,n);r&&t(r,e,n)}},t.prototype.forEachGoto=function(t){for(var e=0;e<this.stateCount;e++)for(var n=0;n<this.g.nts.length;n++){var r=this.lookupGoto(e,n);r&&t(r,e,n)}},t.prototype.lookupShift=function(t,e){return this.shift[this.g.tokenCount*t+e]},t.prototype.lookupGoto=function(t,e){return this.gotot[this.g.nts.length*t+e]},t.prototype._getDefRed=function(t,e){for(var n=0;n<e.length;n++)e[n]=0;for(var r=0;r<this.g.tokenCount;r++){var i=this.lookupShift(t,r);i&&i.actionType===I.REDUCE&&e[i.rule.index]++}var a=0;for(n=0;n<e.length;n++)e[n]>e[a]&&(a=n);return e[a]>0?a:-1},t.prototype.findDefAct=function(){this.defred=new Array(this.stateCount);for(var t=new Array(this.g.rules.length),e=0;e<this.stateCount;e++){var n=this._getDefRed(e,t);if(this.defred[e]=n,-1!==n)for(var r=0;r<this.g.tokens.length;r++){var i=this.lookupShift(e,r);i&&i.actionType===I.REDUCE&&i.rule.index===n&&(this.shift[this.g.tokenCount*e+r]=null)}}},t}();(K=G||(G={}))[K.RR=0]="RR",K[K.SR=1]="SR";var K,j=function(){function t(){}return t.prototype.toString=function(){return"state "+this.set.stateIndex+", "+t.cNames[this.type]+" conflict:"+d+a+"token: "+M(this.token)+d+a+"used rule: "+this.used.toString()+d+a+"discarded rule: "+this.discarded.toString()},t.cNames=["reduce/reduce","shift/reduce"],t}();function z(t){var e={},n=0;function r(t){var n=t.kernelHash();void 0===e[n]&&(e[n]=[]),e[n].push(t)}function i(t,n){var r=e[t.kernelHash()];if(void 0!==r)for(var i=0;i<r.length&&!n(r[i]);i++);}var a=1,s=new P,u=new P,l=new P;for(s.append(function(t){var e=t.nts[0].rules[0],n=new B(t);n.index=0;var r=new D(t.tokenCount);return r.add(1),n.add(e,0,!0,r,!1),n}(t));!s.isEmpty()||!u.isEmpty();){var c=null;if(!u.isEmpty()){(h=c=u.pull()).forEach(function(e){if(e.actionType===I.NONE){o.assert(e.canShift());var n=e.getShift(),r=new B(t);r.index=a++,s.append(r),h.forEach(function(t){if(t.canShift()){t.getShift()===n&&(t.actionType=I.SHIFT,t.shift=r,r.add(t.rule,t.marker+1,!0,t.lah,!1))}})}}),h.complete=!0,l.append(h)}for(;!s.isEmpty();){var h;(h=s.pull()).closure(),h.forEach(function(t){t.canShift()||(t.actionType=I.REDUCE)});var f=null;i(h,function(t){return!!t.canMergeTo(h)&&(t.mergeTo(h)&&t.complete&&(f=t),null!==c&&c.forEach(function(e){e.actionType===I.SHIFT&&e.shift===h&&(e.shift=t)}),h=null,!0)}),null!==f?(l.remove(f),u.append(f),f.complete=!1):null!==h&&(u.append(h),r(h))}n++}var d=0;return l.forEach(function(t){t.stateIndex=d++}),{result:l,iterations:n}}function q(t){var e=[];return{add:function(n){var r;for(r=0;r<e.length&&!((0===r||t(n,e[r-1])>=0)&&t(n,e[r])<=0);r++);!function(t,n){e.push(null);for(var r=e.length-1;r>t;r--)e[r]=e[r-1];e[t]=n}(r,n)},done:function(){return e}}}var $=function(){return function(t,e){this.emptyCount=t,this.row=e,this.dp=0}}();function W(t){function e(e,n){return(n-=o[e].dp)<0||n>=t.columns||t.isEmpty(o[e].row,n)}function n(n,r){for(var i=0;i<t.columns;i++)if(!e(n,i))for(var a=0;a<n;a++)if(!e(a,i+r))return!1;return!0}function r(e){for(var r=0;-r<t.columns&&t.isEmpty(o[e].row,-r);)r--;for(;!n(e,r);)r++;return r}for(var i=q(function(t,e){return t.emptyCount<e.emptyCount?-1:t.emptyCount>e.emptyCount?1:0}),a=0;a<t.rows;a++)i.add(new $(t.emptyCount(a),a));for(var o=i.done(),s=0,u=0,l=new Array(t.rows),c=0;-c<t.columns&&t.isEmpty(o[0].row,-c);)c--;l[o[0].row]=o[0].dp=c;for(a=1;a<o.length;a++){var h=o[a].row,f=r(a);l[h]=o[a].dp=f,f>s&&(s=f),f<u&&(u=f)}return{dps:l,len:s+t.columns}}function Y(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e(r);return n}var Q=function(){function t(t){this.g=t.g,this.defred=t.defred,this.stateCount=t.stateCount;var e=W(function(t){for(var e=[],n=0;n<t.stateCount;n++){e.push(0);for(var r=0;r<t.g.tokens.length;r++)null===t.lookupShift(n,r)&&e[n]++}return{rows:t.stateCount,columns:t.g.tokens.length,isEmpty:function(e,n){return null===t.lookupShift(e,n)},emptyCount:function(t){return e[t]}}}(t)),n=W(function(t){for(var e=[],n=0;n<t.stateCount;n++){e.push(0);for(var r=0;r<t.g.nts.length;r++)null===t.lookupShift(n,r)&&e[n]++}return{rows:t.stateCount,columns:t.g.nts.length,isEmpty:function(e,n){return null===t.lookupGoto(e,n)},emptyCount:function(t){return e[t]}}}(t));this.disact=e.dps,this.disgoto=n.dps,this.pact=Y(e.len,function(){return null}),this.checkact=Y(e.len,function(){return 0});var r=this;t.forEachShift(function(t,e,n){o.assert(null===r.pact[r.disact[e]+n]),r.pact[r.disact[e]+n]=t,r.checkact[r.disact[e]+n]=e}),this.pgoto=Y(n.len,function(){return null}),this.checkgoto=Y(n.len,function(){return 0}),t.forEachGoto(function(t,e,n){o.assert(null===r.pgoto[r.disgoto[e]+n]),r.pgoto[r.disgoto[e]+n]=t,r.checkgoto[r.disgoto[e]+n]=e})}return t.prototype.lookupShift=function(t,e){var n=this.disact[t]+e;return n>=0&&n<this.pact.length&&this.checkact[n]===t?this.pact[this.disact[t]+e]:null},t.prototype.lookupGoto=function(t,e){var n=this.disgoto[t]+e;return n>=0&&n<this.pgoto.length&&this.checkgoto[n]===t?this.pgoto[this.disgoto[t]+e]:null},t}(),X=function(){function t(t,e,n){this.g=t,this.lhs=e,this.pos=n,this.pr=-1,this.rhs=[],this.action=null,this.index=0,this.vars={},this.usedVars={}}return t.prototype.calcPr=function(){if(-1===this.pr)for(var t=this.rhs.length-1;t>=0;t--){var e=this.rhs[t];e>=0&&this.g.tokens[e].assoc!==U.UNDEFINED&&(this.pr=this.g.tokens[e].pr)}},t.prototype.getVarSp=function(t,e){if(1!==this.lhs.parents.length)return this.lhs.parents.length>1?e("LHS of the rule is referenced by more than one rule"):e("this rule is unreachable"),null;for(var n=this.rhs.length,r=this.lhs.parents[0].pos,i=this.lhs.parents[0].rule;;){var a=i.vars[t];if(void 0!==a&&a.val<r)return n+=r-a.val;if(1!==i.lhs.parents.length)return i.lhs.parents.length>1?e('"'+i.lhs.sym+'" is referenced by more than one rule or unreachable'):e("variable is undefined"),null;n+=r,r=i.lhs.parents[0].pos,i=i.lhs.parents[0].rule}},t.prototype.toString=function(t){for(var e=this.index+": "+this.lhs.sym+" =>",n=0;n<this.rhs.length;n++){var r=this.rhs[n];t===n&&(e+=" ."),e+=r>=0?" "+M(this.g.tokens[r]):" "+this.g.nts[-r-1].sym}return t===this.rhs.length&&(e+=" ."),e},t}(),J=function(){function t(){this.tokens=[],this.tokenCount=0,this.nts=[],this.rules=[]}return t.prototype.isToken=function(t){return t>=0},t.prototype.forEachRule=function(t){for(var e=0;e<this.nts.length;e++)for(var n=this.nts[e].rules,r=0;r<n.length;r++)t(e,n[r])},t.prototype.forEachRuleOfNt=function(t,e){for(var n=this.nts[t].rules,r=0;r<n.length&&!e(n[r]);r++);},t.prototype.genFirstSets=function(){var t=!0,e=new D(this.tokens.length);for(e.addAll(),e.remove(0);t;){t=!1;for(var n=0;n<this.nts.length;n++)for(var r=this.nts[n].rules,i=this.nts[n].firstSet,a=0;a<r.length;a++){for(var o=r[a],s=0;s<o.rhs.length;s++){var u=o.rhs[s];if(this.isToken(u)){t=i.add(u+1)||t;break}if(n!==(u=-u-1)&&(t=i.union(this.nts[u].firstSet,e)||t),!this.nts[u].firstSet.contains(0))break}s===o.rhs.length&&(t=i.add(0)||t)}}},t.prototype.toString=function(t){void 0===t&&(t={});var e=(t=t||{}).endl||e,n=t.escape||!1,r="";if(this.forEachRule(function(t,n){var i=n.toString();r+=i+e}),t.firstSets)for(var i=0;i<this.nts.length;i++){var a=this.nts[i];r+="First("+a.sym+") = { "+a.firstSet.toString(this)+" }"+e}return n&&(r=r.replace(/</g,"&lt;").replace(/>/g,"&gt;")),r.replace(/\n/g,e)},t.prototype.findTokenByName=function(t){for(var e=0,n=this.tokens;e<n.length;e++){var r=n[e];if(r.sym===t)return r}return null},t.prototype.findTokensByAlias=function(t){for(var e=[],n=0,r=this.tokens;n<r.length;n++){var i=r[n];i.alias===t&&e.push(i)}return e},t}(),Z=function(){return function(){this.grammar=null,this.lexDFA=[],this.dfaTables=[],this.opt={},this.prefix="jj",this.header=[],this.output=null,this.extraArgs=null,this.initArg=null,this.initBody=null,this.epilogue=null,this.sematicType=null}}(),tt=function(){function t(t){this.getRes=t,this._blocked={}}return t.prototype.wait=function(t,e){var n=this.getRes(t);void 0===n?(this._blocked[t]||(this._blocked[t]=[]),this._blocked[t].push(e)):e(!0,n)},t.prototype.signal=function(t,e){var n=this._blocked[t];if(void 0!==n){for(var r=0,i=n;r<i.length;r++){(0,i[r])(!0,e)}delete this._blocked[t]}},t.prototype.fail=function(){for(var t in this._blocked)for(var e=0,n=this._blocked[t];e<n.length;e++){(0,n[e])(!1,null)}},t}();function et(t){return{val:t,startLine:-1,startColumn:0,endLine:0,endColumn:0}}function nt(t,e,n){void 0===n&&(n="^");function r(t){for(var e=0,n=0;n<t.length;n++)e+=t.charCodeAt(n)>255?2:1;return e}if(-1!==t.startLine){var i="(line "+(t.startLine+1)+", column "+(t.startColumn+1)+"):"+d,a=t.startLine,o=t.startColumn;i+=e[a]+d,i+=function(t,e){for(var n="";e-- >0;)n+=t;return n}(" ",o);for(var s=r(e[a]);a<=t.endLine&&o<=t.endColumn;)i+=n,o++>=s&&(o=0,i+=d+e[++a]+d,s=r(e[a]));return i}return"<internal position>"}var rt=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,880,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1162,1319,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1568,1610,1646,1647,1649,1747,1749,1749,1765,1766,1774,1775,1786,1788,1791,1791,1808,1808,1810,1839,1869,1957,1969,1969,1994,2026,2036,2037,2042,2042,2048,2069,2074,2074,2084,2084,2088,2088,2112,2136,2208,2208,2210,2220,2308,2361,2365,2365,2384,2384,2392,2401,2417,2423,2425,2431,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2493,2493,2510,2510,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2785,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2877,2877,2908,2909,2911,2913,2929,2929,2947,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3024,3024,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3133,3160,3161,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3261,3261,3294,3294,3296,3297,3313,3314,3333,3340,3342,3344,3346,3386,3389,3389,3406,3406,3424,3425,3450,3455,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3807,3840,3840,3904,3911,3913,3948,3976,3980,4096,4138,4159,4159,4176,4181,4186,4189,4193,4193,4197,4198,4206,4208,4213,4225,4238,4238,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5905,5920,5937,5952,5969,5984,5996,5998,6e3,6016,6067,6103,6103,6108,6108,6176,6263,6272,6312,6314,6314,6320,6389,6400,6428,6480,6509,6512,6516,6528,6571,6593,6599,6656,6678,6688,6740,6823,6823,6917,6963,6981,6987,7043,7072,7086,7087,7098,7141,7168,7203,7245,7247,7258,7293,7401,7404,7406,7409,7413,7414,7424,7615,7680,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8305,8305,8319,8319,8336,8348,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11502,11506,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11648,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11823,11823,12293,12295,12321,12329,12337,12341,12344,12348,12353,12438,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42527,42538,42539,42560,42606,42623,42647,42656,42735,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43009,43011,43013,43015,43018,43020,43042,43072,43123,43138,43187,43250,43255,43259,43259,43274,43301,43312,43334,43360,43388,43396,43442,43471,43471,43520,43560,43584,43586,43588,43595,43616,43638,43642,43642,43648,43695,43697,43697,43701,43702,43705,43709,43712,43712,43714,43714,43739,43741,43744,43754,43762,43764,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44002,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],it=[170,170,181,181,186,186,192,214,216,246,248,705,710,721,736,740,748,748,750,750,768,884,886,887,890,893,902,902,904,906,908,908,910,929,931,1013,1015,1153,1155,1159,1162,1319,1329,1366,1369,1369,1377,1415,1425,1469,1471,1471,1473,1474,1476,1477,1479,1479,1488,1514,1520,1522,1552,1562,1568,1641,1646,1747,1749,1756,1759,1768,1770,1788,1791,1791,1808,1866,1869,1969,1984,2037,2042,2042,2048,2093,2112,2139,2208,2208,2210,2220,2276,2302,2304,2403,2406,2415,2417,2423,2425,2431,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2500,2503,2504,2507,2510,2519,2519,2524,2525,2527,2531,2534,2545,2561,2563,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2641,2641,2649,2652,2654,2654,2662,2677,2689,2691,2693,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2787,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2869,2873,2876,2884,2887,2888,2891,2893,2902,2903,2908,2909,2911,2915,2918,2927,2929,2929,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,3001,3006,3010,3014,3016,3018,3021,3024,3024,3031,3031,3046,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3133,3140,3142,3144,3146,3149,3157,3158,3160,3161,3168,3171,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3260,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3299,3302,3311,3313,3314,3330,3331,3333,3340,3342,3344,3346,3386,3389,3396,3398,3400,3402,3406,3415,3415,3424,3427,3430,3439,3450,3455,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3807,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3948,3953,3972,3974,3991,3993,4028,4038,4038,4096,4169,4176,4253,4256,4293,4295,4295,4301,4301,4304,4346,4348,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4744,4746,4749,4752,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4822,4824,4880,4882,4885,4888,4954,4957,4959,4992,5007,5024,5108,5121,5740,5743,5759,5761,5786,5792,5866,5870,5872,5888,5900,5902,5908,5920,5940,5952,5971,5984,5996,5998,6e3,6002,6003,6016,6099,6103,6103,6108,6109,6112,6121,6155,6157,6160,6169,6176,6263,6272,6314,6320,6389,6400,6428,6432,6443,6448,6459,6470,6509,6512,6516,6528,6571,6576,6601,6608,6617,6656,6683,6688,6750,6752,6780,6783,6793,6800,6809,6823,6823,6912,6987,6992,7001,7019,7027,7040,7155,7168,7223,7232,7241,7245,7293,7376,7378,7380,7414,7424,7654,7676,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8204,8205,8255,8256,8276,8276,8305,8305,8319,8319,8336,8348,8400,8412,8417,8417,8421,8432,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8505,8508,8511,8517,8521,8526,8526,8544,8584,11264,11310,11312,11358,11360,11492,11499,11507,11520,11557,11559,11559,11565,11565,11568,11623,11631,11631,11647,11670,11680,11686,11688,11694,11696,11702,11704,11710,11712,11718,11720,11726,11728,11734,11736,11742,11744,11775,11823,11823,12293,12295,12321,12335,12337,12341,12344,12348,12353,12438,12441,12442,12445,12447,12449,12538,12540,12543,12549,12589,12593,12686,12704,12730,12784,12799,13312,19893,19968,40908,40960,42124,42192,42237,42240,42508,42512,42539,42560,42607,42612,42621,42623,42647,42655,42737,42775,42783,42786,42888,42891,42894,42896,42899,42912,42922,43e3,43047,43072,43123,43136,43204,43216,43225,43232,43255,43259,43259,43264,43309,43312,43347,43360,43388,43392,43456,43471,43481,43520,43574,43584,43597,43600,43609,43616,43638,43642,43643,43648,43714,43739,43741,43744,43759,43762,43766,43777,43782,43785,43790,43793,43798,43808,43814,43816,43822,43968,44010,44012,44013,44016,44025,44032,55203,55216,55238,55243,55291,63744,64109,64112,64217,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65024,65039,65056,65062,65075,65076,65101,65103,65136,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],at=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1488,1514,1520,1522,1569,1594,1600,1610,1649,1747,1749,1749,1765,1766,1786,1788,1808,1808,1810,1836,1920,1957,2309,2361,2365,2365,2384,2384,2392,2401,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2524,2525,2527,2529,2544,2545,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2649,2652,2654,2654,2674,2676,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2749,2749,2768,2768,2784,2784,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2877,2877,2908,2909,2911,2913,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3168,3169,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3294,3294,3296,3297,3333,3340,3342,3344,3346,3368,3370,3385,3424,3425,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3585,3632,3634,3635,3648,3654,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3760,3762,3763,3773,3773,3776,3780,3782,3782,3804,3805,3840,3840,3904,3911,3913,3946,3976,3979,4096,4129,4131,4135,4137,4138,4176,4181,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6067,6176,6263,6272,6312,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8319,8319,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12329,12337,12341,12344,12346,12353,12436,12445,12446,12449,12538,12540,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64285,64287,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65136,65138,65140,65140,65142,65276,65313,65338,65345,65370,65382,65470,65474,65479,65482,65487,65490,65495,65498,65500],ot=[170,170,181,181,186,186,192,214,216,246,248,543,546,563,592,685,688,696,699,705,720,721,736,740,750,750,768,846,864,866,890,890,902,902,904,906,908,908,910,929,931,974,976,983,986,1011,1024,1153,1155,1158,1164,1220,1223,1224,1227,1228,1232,1269,1272,1273,1329,1366,1369,1369,1377,1415,1425,1441,1443,1465,1467,1469,1471,1471,1473,1474,1476,1476,1488,1514,1520,1522,1569,1594,1600,1621,1632,1641,1648,1747,1749,1756,1759,1768,1770,1773,1776,1788,1808,1836,1840,1866,1920,1968,2305,2307,2309,2361,2364,2381,2384,2388,2392,2403,2406,2415,2433,2435,2437,2444,2447,2448,2451,2472,2474,2480,2482,2482,2486,2489,2492,2492,2494,2500,2503,2504,2507,2509,2519,2519,2524,2525,2527,2531,2534,2545,2562,2562,2565,2570,2575,2576,2579,2600,2602,2608,2610,2611,2613,2614,2616,2617,2620,2620,2622,2626,2631,2632,2635,2637,2649,2652,2654,2654,2662,2676,2689,2691,2693,2699,2701,2701,2703,2705,2707,2728,2730,2736,2738,2739,2741,2745,2748,2757,2759,2761,2763,2765,2768,2768,2784,2784,2790,2799,2817,2819,2821,2828,2831,2832,2835,2856,2858,2864,2866,2867,2870,2873,2876,2883,2887,2888,2891,2893,2902,2903,2908,2909,2911,2913,2918,2927,2946,2947,2949,2954,2958,2960,2962,2965,2969,2970,2972,2972,2974,2975,2979,2980,2984,2986,2990,2997,2999,3001,3006,3010,3014,3016,3018,3021,3031,3031,3047,3055,3073,3075,3077,3084,3086,3088,3090,3112,3114,3123,3125,3129,3134,3140,3142,3144,3146,3149,3157,3158,3168,3169,3174,3183,3202,3203,3205,3212,3214,3216,3218,3240,3242,3251,3253,3257,3262,3268,3270,3272,3274,3277,3285,3286,3294,3294,3296,3297,3302,3311,3330,3331,3333,3340,3342,3344,3346,3368,3370,3385,3390,3395,3398,3400,3402,3405,3415,3415,3424,3425,3430,3439,3458,3459,3461,3478,3482,3505,3507,3515,3517,3517,3520,3526,3530,3530,3535,3540,3542,3542,3544,3551,3570,3571,3585,3642,3648,3662,3664,3673,3713,3714,3716,3716,3719,3720,3722,3722,3725,3725,3732,3735,3737,3743,3745,3747,3749,3749,3751,3751,3754,3755,3757,3769,3771,3773,3776,3780,3782,3782,3784,3789,3792,3801,3804,3805,3840,3840,3864,3865,3872,3881,3893,3893,3895,3895,3897,3897,3902,3911,3913,3946,3953,3972,3974,3979,3984,3991,3993,4028,4038,4038,4096,4129,4131,4135,4137,4138,4140,4146,4150,4153,4160,4169,4176,4185,4256,4293,4304,4342,4352,4441,4447,4514,4520,4601,4608,4614,4616,4678,4680,4680,4682,4685,4688,4694,4696,4696,4698,4701,4704,4742,4744,4744,4746,4749,4752,4782,4784,4784,4786,4789,4792,4798,4800,4800,4802,4805,4808,4814,4816,4822,4824,4846,4848,4878,4880,4880,4882,4885,4888,4894,4896,4934,4936,4954,4969,4977,5024,5108,5121,5740,5743,5750,5761,5786,5792,5866,6016,6099,6112,6121,6160,6169,6176,6263,6272,6313,7680,7835,7840,7929,7936,7957,7960,7965,7968,8005,8008,8013,8016,8023,8025,8025,8027,8027,8029,8029,8031,8061,8064,8116,8118,8124,8126,8126,8130,8132,8134,8140,8144,8147,8150,8155,8160,8172,8178,8180,8182,8188,8255,8256,8319,8319,8400,8412,8417,8417,8450,8450,8455,8455,8458,8467,8469,8469,8473,8477,8484,8484,8486,8486,8488,8488,8490,8493,8495,8497,8499,8505,8544,8579,12293,12295,12321,12335,12337,12341,12344,12346,12353,12436,12441,12442,12445,12446,12449,12542,12549,12588,12593,12686,12704,12727,13312,19893,19968,40869,40960,42124,44032,55203,63744,64045,64256,64262,64275,64279,64285,64296,64298,64310,64312,64316,64318,64318,64320,64321,64323,64324,64326,64433,64467,64829,64848,64911,64914,64967,65008,65019,65056,65059,65075,65076,65101,65103,65136,65138,65140,65140,65142,65276,65296,65305,65313,65338,65343,65343,65345,65370,65381,65470,65474,65479,65482,65487,65490,65495,65498,65500],st=function(){return function(t){this.label=t,this.opcodes=[]}}();function ut(t){var e,n=new S,r=null,i=[],a=[],o=null,s=!1,u=null,l=!1,c=0,h={},f=[new st("")],p={DEFAULT:0},v=[],g=null,m=[],k={es3UnicodeIDStart:function(){return R(at)},es3UnicodeIDPart:function(){return R(ot)},es5UnicodeIDStart:function(){return R(rt)},es5UnicodeIDPart:function(){return R(it)}};return{prepareVar:function(e){var n=h[e.val];void 0!==n&&(r='variable "'+e.val+'" was already defined',i=n.pos,a=e,t.requireLines(function(t,e){var n=r+" "+nt(a,e)+d;n+="previous defination was at "+nt(i,e),t.err(new w(n))}));var r,i,a;n=h[e.val]={pos:e,cmds:new st(e.val)},g=n.cmds},endVar:function(){g=null},prepareLex:function(){v.length=0},selectState:function(t){var n=p[t];void 0===n&&(n=p[t]=f.length,f.push(new st("")),e.signal(t,n));v.push(f[p[t]])},newState:function(){l=!0,u=null,x(function(){r=new S,n.epsilonTo(r)})},end:function(t,e){void 0===e&&(e="(untitled)");for(var n=0,i=v;n<i.length;n++){var a=i[n];a.label="<"+e+">"}x(function(){var e=new y;e.id=e.priority=c++,e.data=t,r.endAction=e})},enterUnion:function(){x(function(){i.push({head:r,tail:new S})})},endUnionItem:function(){x(function(){var t=i[i.length-1];r.epsilonTo(t.tail),r=t.head})},leaveUnion:function(){x(function(){r=i.pop().tail})},enterSimple:function(){x(function(){a.push(r)})},simplePostfix:function(t){""===t||(u=null,l=!1),x(function(){var e=a.pop();"?"===t?e.epsilonTo(r):"+"===t?r.epsilonTo(e):"*"===t&&(r.epsilonTo(e),r=e)})},addString:function(t){l?(u=t,l=!1):u=null;x(function(){for(var e=0;e<t.length;e++){var n=new S;r.to(n).chars.add(t.charCodeAt(e)),r=n}})},addVar:function(t){l=!1,u=null,x(function(){var e=h[t.val];if(void 0!==e){for(var n=e.cmds,r=0;r<m.length;r++){var i=m[r];if(i.cmds===n){var a="circular dependence in lexical variable detected: "+n.label;for(r++;r<m.length;r++)a+=" -> "+m[r].cmds.label;return void T(a+=" -> "+n.label,t)}}m.push({pc:0,cmds:n})}else T('use of undefined variable "'+t.val+'"',t)})},beginSet:A,addSetItem:function(t,e){if(1!==t.val.length)return void T('character expected in union, got "'+t.val+'"',t);if(t!==e&&1!==e.val.length)return void T('character expected in union, got "'+e.val+'"',e);if(t.val.charCodeAt(0)>e.val.charCodeAt(0))return void T("left hand side must be larger than right hand side in wild card character (got '"+t.val+"' > '"+e.val+"')",e);C(t.val.charCodeAt(0),e.val.charCodeAt(0))},addSetItemRaw:C,endSet:N,build:function(){for(var t=[],n=0,r=f;n<r.length;n++){var i=r[n];t.push(b(i))}return e.fail(),t},importVar:function(t){var e=k[t.val];if(void 0===e)return void T('import variable "'+t.val+'" does not exist',t);e()},getPossibleAlias:function(){return u},requiringState:e=new tt(function(t){return p[t]})};function x(t){if(null!==g)g.opcodes.push(t);else for(var e=0,n=v;e<n.length;e++){n[e].opcodes.push(t)}}function b(t){for((n=r=new S).isStart=!0,i.length=0,a.length=0,o=null,s=!1,m.length=0,m.push({pc:0,cmds:t});m.length>0;){var e=m[m.length-1];e.cmds.opcodes[e.pc++](),(e=m[m.length-1]).pc>=e.cmds.opcodes.length&&m.pop()}n.removeEpsilons();var u=n.toDFA();return new E(u.states)}function T(e,n){t.requireLines(function(t,r){t.err(new w(e+" "+nt(n,r),"Compilation error"))})}function A(t){l=!1,u=null,x(function(){s=t;var e=new S;o=r.to(e),r=e,t&&o.chars.addAll()})}function C(t,e){x(function(){s?o.chars.remove(t,e):o.chars.add(t,e)})}function N(){x(function(){o=null})}function R(t){A(!1);for(var e=0,n=t;e<n.length;e+=2)C(n[e],n[e+1]);N()}}function lt(t){}function ct(t,e){return{toCode:function(n){n.addBlock(t,e)},token:-1}}var ht;(ft=ht||(ht={}))[ft.TOKEN=0]="TOKEN",ft[ft.STRING=1]="STRING",ft[ft.NAME=2]="NAME";var ft;function dt(t){return{val:t.val,ext:null,startLine:t.startLine,startColumn:t.startColumn,endLine:t.endLine,endColumn:t.endColumn}}function pt(t){return{val:null,ext:null,startLine:t.startLine,startColumn:t.startColumn,endLine:t.endLine,endColumn:t.endColumn}}var vt={n:"\n",f:"\f",b:"\b",r:"\r",t:"\t","\\":"\\",'"':'"',"'":"'"};function gt(t){for(var e="",n=0;n<t.length;){var r=t.charAt(n);if("\\"===r){if(r=t.charAt(++n),vt[r])e+=vt[r],n++;else if("u"===r||"x"===r){r=t.charAt(++n);for(var i="";/[0-9a-fA-F]/.test(r);)i+=r,r=t.charAt(++n);e+=String.fromCharCode(parseInt(i,16))}}else e+=r,n++}return e}var mt="\n".charCodeAt(0),kt=[{pnext:[68,68,68,68,68,68,68,68,68,69,68,68,68,70,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,68,68,68,70,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,68,68,68,89,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,90,90,90,90,90,90,90,90,90,90,90,90,90,91,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,68,68,68,68,68,68,68,68,68,69,68,68,68,89,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,69,68,68,68,70,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,44,44,127,44,44,44,45,44,44,44,44,44,44,44,107,44,44,44,44,44,44,107,44,46,44,44,44,107,107,107,107,107,107,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,26,26,126,27,26,26,26,26,26,26,26,26,26,26,93,26,26,26,26,26,26,93,26,28,26,26,26,93,93,93,93,93,93,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,44,44,125,44,44,44,45,44,44,44,44,44,44,44,107,44,44,44,44,44,44,107,44,46,44,44,44,107,107,107,107,107,107,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,26,26,124,27,26,26,26,26,26,26,26,26,26,26,93,26,26,26,26,26,26,93,26,28,26,26,26,93,93,93,93,93,93,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,71,71,123,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,44,44,122,44,44,44,45,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,46,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,26,26,121,27,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,28,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,71,71,120,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,44,44,119,44,44,44,45,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,46,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,26,26,118,27,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,28,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,44,44,117,44,44,44,45,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,46,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,26,26,116,27,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,28,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,1,1,2,3,4,5,6,7,8,9,10,11,12,115,13,14,15,16,17,18,3,19,114,20,21,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,22,23,24,25,29,78,63,59,55,56,52,60,47,64,30,113,48,112,53,79,111,29,1,1,110,109,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,108,106,31,32,105,104,103,102,101,30,100,99,98,97,96,95,29,94,92,87,86,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,85,84,31,32,83,82,81,80,77,30,76,75,74,73,65,62,29,61,58,57,54,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,49,-1,31,32,-1,-1,-1,-1,-1,30,-1,-1,-1,-1,-1,-1,29,-1,-1,-1,-1,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,-1,-1,31,32,-1,-1,-1,-1,-1,30,-1,-1,-1,-1,-1,-1,29,-1,-1,-1,-1,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,-1,-1,31,32,-1,-1,-1,-1,-1,30,-1,-1,-1,-1,-1,-1,29,-1,-1,33,-1,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,-1,-1,34,31,32,35,36,-1,37,-1,38,39,40,41,66,42,43,66,-1,-1,-1,-1,50,-1,-1,50,-1,-1,-1,-1,-1,-1,-1,-1,66,-1,-1,-1,-1,66,-1,-1,50,66,-1,-1,-1,50,-1,-1,66,50,-1,66,-1,66,67,67,50,88,-1,50,-1,50,51,51,88,-1,-1,-1,-1,72,88,88,88,88,88,88,72,-1,-1,-1,-1,-1,72,72,72,72,72,72,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],disnext:[953,1022,901,1221,1240,848,-53,-53,-53,-53,-53,-53,1004,-53,-53,-53,1119,-53,-53,-53,-53,-53,-53,-53,-53,1177,795,-53,1288,1133,1089,1045,1001,-53,973,1083,971,1082,1072,967,1069,1074,967,1065,742,-53,1280,265,689,-53,636,1326,1066,1062,1078,1063,1067,974,1062,1056,1055,1067,1062,1058,1029,1038,583,1314,212,159,1055,530,477,1023,1023,1034,1023,1018,1017,-53,1033,1023,1016,1027,1021,1023,1020,-53,424,106,53,-53,0,371,1003,999,994,979,-53,-53,975,976,931,-53,923,864,-53,318,-53,824,755,700,648,599,541,-53,-53,505,-53,-53,439,-53,-53,384,344,287,-53,-53],checknext:[92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,92,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,89,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,47,107,107,125,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,107,93,93,124,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,88,88,123,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,88,72,72,120,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,71,71,117,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,66,66,114,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,50,50,113,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,50,48,48,112,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,44,44,111,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,44,26,26,110,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,5,5,109,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,2,2,105,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,0,0,0,0,0,0,0,104,0,0,0,0,0,0,0,0,102,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,32,57,42,39,36,36,34,39,12,42,32,101,12,100,34,57,97,32,1,1,96,95,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,31,94,86,32,32,85,84,83,82,81,31,80,78,77,76,75,74,31,73,70,65,64,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,31,30,63,62,31,31,61,60,59,58,56,30,55,54,53,52,43,41,30,40,38,37,35,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,29,16,-1,30,30,-1,-1,-1,-1,-1,29,-1,-1,-1,-1,-1,-1,29,-1,-1,-1,-1,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,25,-1,-1,29,29,-1,-1,-1,-1,-1,25,-1,-1,-1,-1,-1,-1,25,-1,-1,-1,-1,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,3,-1,-1,25,25,-1,-1,-1,-1,-1,3,-1,-1,-1,-1,-1,-1,3,-1,-1,4,-1,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,-1,-1,4,3,3,4,4,-1,4,-1,4,4,4,4,46,4,4,46,-1,-1,-1,-1,28,-1,-1,28,-1,-1,-1,-1,-1,-1,-1,-1,46,-1,-1,-1,-1,46,-1,-1,28,46,-1,-1,-1,28,-1,-1,46,28,-1,46,-1,46,46,46,28,67,-1,28,-1,28,28,28,67,-1,-1,-1,-1,51,67,67,67,67,67,67,51,-1,-1,-1,-1,-1,51,51,51,51,51,51,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],maxAsicii:255,classTable:[0,0,0,0,0,0,0,0,0,1,2,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,3,0,4,5,0,6,7,8,9,10,11,12,0,13,14,14,14,14,14,14,14,14,14,14,15,16,17,18,19,20,0,21,21,21,21,21,21,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,22,23,24,25,26,0,27,28,29,30,31,32,33,34,35,4,36,37,38,39,40,41,4,42,43,44,45,4,4,46,47,4,48,49,50,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,51,0,0,0,0,0,0,0,0,0,0,51,0,0,0,0,51,0,0,0,0,0,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,0,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,51,0,51,51,51,51,51,51,51,51],unicodeClassTable:[51,256,705,0,706,709,51,710,721,0,722,735,51,736,740,0,741,747,51,748,748,0,749,749,51,750,750,0,751,767,52,768,879,51,880,884,0,885,885,51,886,887,0,888,889,51,890,893,0,894,901,51,902,902,0,903,903,51,904,906,0,907,907,51,908,908,0,909,909,51,910,929,0,930,930,51,931,1013,0,1014,1014,51,1015,1153,0,1154,1154,52,1155,1159,0,1160,1161,51,1162,1319,0,1320,1328,51,1329,1366,0,1367,1368,51,1369,1369,0,1370,1376,51,1377,1415,0,1416,1424,52,1425,1469,0,1470,1470,52,1471,1471,0,1472,1472,52,1473,1474,0,1475,1475,52,1476,1477,0,1478,1478,52,1479,1479,0,1480,1487,51,1488,1514,0,1515,1519,51,1520,1522,0,1523,1551,52,1552,1562,0,1563,1567,51,1568,1610,52,1611,1641,0,1642,1645,51,1646,1647,52,1648,1648,51,1649,1747,0,1748,1748,51,1749,1749,52,1750,1756,0,1757,1758,52,1759,1764,51,1765,1766,52,1767,1768,0,1769,1769,52,1770,1773,51,1774,1775,52,1776,1785,51,1786,1788,0,1789,1790,51,1791,1791,0,1792,1807,51,1808,1808,52,1809,1809,51,1810,1839,52,1840,1866,0,1867,1868,51,1869,1957,52,1958,1968,51,1969,1969,0,1970,1983,52,1984,1993,51,1994,2026,52,2027,2035,51,2036,2037,0,2038,2041,51,2042,2042,0,2043,2047,51,2048,2069,52,2070,2073,51,2074,2074,52,2075,2083,51,2084,2084,52,2085,2087,51,2088,2088,52,2089,2093,0,2094,2111,51,2112,2136,52,2137,2139,0,2140,2207,51,2208,2208,0,2209,2209,51,2210,2220,0,2221,2275,52,2276,2302,0,2303,2303,52,2304,2307,51,2308,2361,52,2362,2364,51,2365,2365,52,2366,2383,51,2384,2384,52,2385,2391,51,2392,2401,52,2402,2403,0,2404,2405,52,2406,2415,0,2416,2416,51,2417,2423,0,2424,2424,51,2425,2431,0,2432,2432,52,2433,2435,0,2436,2436,51,2437,2444,0,2445,2446,51,2447,2448,0,2449,2450,51,2451,2472,0,2473,2473,51,2474,2480,0,2481,2481,51,2482,2482,0,2483,2485,51,2486,2489,0,2490,2491,52,2492,2492,51,2493,2493,52,2494,2500,0,2501,2502,52,2503,2504,0,2505,2506,52,2507,2509,51,2510,2510,0,2511,2518,52,2519,2519,0,2520,2523,51,2524,2525,0,2526,2526,51,2527,2529,52,2530,2531,0,2532,2533,52,2534,2543,51,2544,2545,0,2546,2560,52,2561,2563,0,2564,2564,51,2565,2570,0,2571,2574,51,2575,2576,0,2577,2578,51,2579,2600,0,2601,2601,51,2602,2608,0,2609,2609,51,2610,2611,0,2612,2612,51,2613,2614,0,2615,2615,51,2616,2617,0,2618,2619,52,2620,2620,0,2621,2621,52,2622,2626,0,2627,2630,52,2631,2632,0,2633,2634,52,2635,2637,0,2638,2640,52,2641,2641,0,2642,2648,51,2649,2652,0,2653,2653,51,2654,2654,0,2655,2661,52,2662,2673,51,2674,2676,52,2677,2677,0,2678,2688,52,2689,2691,0,2692,2692,51,2693,2701,0,2702,2702,51,2703,2705,0,2706,2706,51,2707,2728,0,2729,2729,51,2730,2736,0,2737,2737,51,2738,2739,0,2740,2740,51,2741,2745,0,2746,2747,52,2748,2748,51,2749,2749,52,2750,2757,0,2758,2758,52,2759,2761,0,2762,2762,52,2763,2765,0,2766,2767,51,2768,2768,0,2769,2783,51,2784,2785,52,2786,2787,0,2788,2789,52,2790,2799,0,2800,2816,52,2817,2819,0,2820,2820,51,2821,2828,0,2829,2830,51,2831,2832,0,2833,2834,51,2835,2856,0,2857,2857,51,2858,2864,0,2865,2865,51,2866,2867,0,2868,2868,51,2869,2873,0,2874,2875,52,2876,2876,51,2877,2877,52,2878,2884,0,2885,2886,52,2887,2888,0,2889,2890,52,2891,2893,0,2894,2901,52,2902,2903,0,2904,2907,51,2908,2909,0,2910,2910,51,2911,2913,52,2914,2915,0,2916,2917,52,2918,2927,0,2928,2928,51,2929,2929,0,2930,2945,52,2946,2946,51,2947,2947,0,2948,2948,51,2949,2954,0,2955,2957,51,2958,2960,0,2961,2961,51,2962,2965,0,2966,2968,51,2969,2970,0,2971,2971,51,2972,2972,0,2973,2973,51,2974,2975,0,2976,2978,51,2979,2980,0,2981,2983,51,2984,2986,0,2987,2989,51,2990,3001,0,3002,3005,52,3006,3010,0,3011,3013,52,3014,3016,0,3017,3017,52,3018,3021,0,3022,3023,51,3024,3024,0,3025,3030,52,3031,3031,0,3032,3045,52,3046,3055,0,3056,3072,52,3073,3075,0,3076,3076,51,3077,3084,0,3085,3085,51,3086,3088,0,3089,3089,51,3090,3112,0,3113,3113,51,3114,3123,0,3124,3124,51,3125,3129,0,3130,3132,51,3133,3133,52,3134,3140,0,3141,3141,52,3142,3144,0,3145,3145,52,3146,3149,0,3150,3156,52,3157,3158,0,3159,3159,51,3160,3161,0,3162,3167,51,3168,3169,52,3170,3171,0,3172,3173,52,3174,3183,0,3184,3201,52,3202,3203,0,3204,3204,51,3205,3212,0,3213,3213,51,3214,3216,0,3217,3217,51,3218,3240,0,3241,3241,51,3242,3251,0,3252,3252,51,3253,3257,0,3258,3259,52,3260,3260,51,3261,3261,52,3262,3268,0,3269,3269,52,3270,3272,0,3273,3273,52,3274,3277,0,3278,3284,52,3285,3286,0,3287,3293,51,3294,3294,0,3295,3295,51,3296,3297,52,3298,3299,0,3300,3301,52,3302,3311,0,3312,3312,51,3313,3314,0,3315,3329,52,3330,3331,0,3332,3332,51,3333,3340,0,3341,3341,51,3342,3344,0,3345,3345,51,3346,3386,0,3387,3388,51,3389,3389,52,3390,3396,0,3397,3397,52,3398,3400,0,3401,3401,52,3402,3405,51,3406,3406,0,3407,3414,52,3415,3415,0,3416,3423,51,3424,3425,52,3426,3427,0,3428,3429,52,3430,3439,0,3440,3449,51,3450,3455,0,3456,3457,52,3458,3459,0,3460,3460,51,3461,3478,0,3479,3481,51,3482,3505,0,3506,3506,51,3507,3515,0,3516,3516,51,3517,3517,0,3518,3519,51,3520,3526,0,3527,3529,52,3530,3530,0,3531,3534,52,3535,3540,0,3541,3541,52,3542,3542,0,3543,3543,52,3544,3551,0,3552,3569,52,3570,3571,0,3572,3584,51,3585,3632,52,3633,3633,51,3634,3635,52,3636,3642,0,3643,3647,51,3648,3654,52,3655,3662,0,3663,3663,52,3664,3673,0,3674,3712,51,3713,3714,0,3715,3715,51,3716,3716,0,3717,3718,51,3719,3720,0,3721,3721,51,3722,3722,0,3723,3724,51,3725,3725,0,3726,3731,51,3732,3735,0,3736,3736,51,3737,3743,0,3744,3744,51,3745,3747,0,3748,3748,51,3749,3749,0,3750,3750,51,3751,3751,0,3752,3753,51,3754,3755,0,3756,3756,51,3757,3760,52,3761,3761,51,3762,3763,52,3764,3769,0,3770,3770,52,3771,3772,51,3773,3773,0,3774,3775,51,3776,3780,0,3781,3781,51,3782,3782,0,3783,3783,52,3784,3789,0,3790,3791,52,3792,3801,0,3802,3803,51,3804,3807,0,3808,3839,51,3840,3840,0,3841,3863,52,3864,3865,0,3866,3871,52,3872,3881,0,3882,3892,52,3893,3893,0,3894,3894,52,3895,3895,0,3896,3896,52,3897,3897,0,3898,3901,52,3902,3903,51,3904,3911,0,3912,3912,51,3913,3948,0,3949,3952,52,3953,3972,0,3973,3973,52,3974,3975,51,3976,3980,52,3981,3991,0,3992,3992,52,3993,4028,0,4029,4037,52,4038,4038,0,4039,4095,51,4096,4138,52,4139,4158,51,4159,4159,52,4160,4169,0,4170,4175,51,4176,4181,52,4182,4185,51,4186,4189,52,4190,4192,51,4193,4193,52,4194,4196,51,4197,4198,52,4199,4205,51,4206,4208,52,4209,4212,51,4213,4225,52,4226,4237,51,4238,4238,52,4239,4253,0,4254,4255,51,4256,4293,0,4294,4294,51,4295,4295,0,4296,4300,51,4301,4301,0,4302,4303,51,4304,4346,0,4347,4347,51,4348,4680,0,4681,4681,51,4682,4685,0,4686,4687,51,4688,4694,0,4695,4695,51,4696,4696,0,4697,4697,51,4698,4701,0,4702,4703,51,4704,4744,0,4745,4745,51,4746,4749,0,4750,4751,51,4752,4784,0,4785,4785,51,4786,4789,0,4790,4791,51,4792,4798,0,4799,4799,51,4800,4800,0,4801,4801,51,4802,4805,0,4806,4807,51,4808,4822,0,4823,4823,51,4824,4880,0,4881,4881,51,4882,4885,0,4886,4887,51,4888,4954,0,4955,4956,52,4957,4959,0,4960,4991,51,4992,5007,0,5008,5023,51,5024,5108,0,5109,5120,51,5121,5740,0,5741,5742,51,5743,5759,0,5760,5760,51,5761,5786,0,5787,5791,51,5792,5866,0,5867,5869,51,5870,5872,0,5873,5887,51,5888,5900,0,5901,5901,51,5902,5905,52,5906,5908,0,5909,5919,51,5920,5937,52,5938,5940,0,5941,5951,51,5952,5969,52,5970,5971,0,5972,5983,51,5984,5996,0,5997,5997,51,5998,6e3,0,6001,6001,52,6002,6003,0,6004,6015,51,6016,6067,52,6068,6099,0,6100,6102,51,6103,6103,0,6104,6107,51,6108,6108,52,6109,6109,0,6110,6111,52,6112,6121,0,6122,6154,52,6155,6157,0,6158,6159,52,6160,6169,0,6170,6175,51,6176,6263,0,6264,6271,51,6272,6312,52,6313,6313,51,6314,6314,0,6315,6319,51,6320,6389,0,6390,6399,51,6400,6428,0,6429,6431,52,6432,6443,0,6444,6447,52,6448,6459,0,6460,6469,52,6470,6479,51,6480,6509,0,6510,6511,51,6512,6516,0,6517,6527,51,6528,6571,0,6572,6575,52,6576,6592,51,6593,6599,52,6600,6601,0,6602,6607,52,6608,6617,0,6618,6655,51,6656,6678,52,6679,6683,0,6684,6687,51,6688,6740,52,6741,6750,0,6751,6751,52,6752,6780,0,6781,6782,52,6783,6793,0,6794,6799,52,6800,6809,0,6810,6822,51,6823,6823,0,6824,6911,52,6912,6916,51,6917,6963,52,6964,6980,51,6981,6987,0,6988,6991,52,6992,7001,0,7002,7018,52,7019,7027,0,7028,7039,52,7040,7042,51,7043,7072,52,7073,7085,51,7086,7087,52,7088,7097,51,7098,7141,52,7142,7155,0,7156,7167,51,7168,7203,52,7204,7223,0,7224,7231,52,7232,7241,0,7242,7244,51,7245,7247,52,7248,7257,51,7258,7293,0,7294,7375,52,7376,7378,0,7379,7379,52,7380,7400,51,7401,7404,52,7405,7405,51,7406,7409,52,7410,7412,51,7413,7414,0,7415,7423,51,7424,7615,52,7616,7654,0,7655,7675,52,7676,7679,51,7680,7957,0,7958,7959,51,7960,7965,0,7966,7967,51,7968,8005,0,8006,8007,51,8008,8013,0,8014,8015,51,8016,8023,0,8024,8024,51,8025,8025,0,8026,8026,51,8027,8027,0,8028,8028,51,8029,8029,0,8030,8030,51,8031,8061,0,8062,8063,51,8064,8116,0,8117,8117,51,8118,8124,0,8125,8125,51,8126,8126,0,8127,8129,51,8130,8132,0,8133,8133,51,8134,8140,0,8141,8143,51,8144,8147,0,8148,8149,51,8150,8155,0,8156,8159,51,8160,8172,0,8173,8177,51,8178,8180,0,8181,8181,51,8182,8188,0,8189,8203,52,8204,8205,0,8206,8254,52,8255,8256,0,8257,8275,52,8276,8276,0,8277,8304,51,8305,8305,0,8306,8318,51,8319,8319,0,8320,8335,51,8336,8348,0,8349,8399,52,8400,8412,0,8413,8416,52,8417,8417,0,8418,8420,52,8421,8432,0,8433,8449,51,8450,8450,0,8451,8454,51,8455,8455,0,8456,8457,51,8458,8467,0,8468,8468,51,8469,8469,0,8470,8472,51,8473,8477,0,8478,8483,51,8484,8484,0,8485,8485,51,8486,8486,0,8487,8487,51,8488,8488,0,8489,8489,51,8490,8493,0,8494,8494,51,8495,8505,0,8506,8507,51,8508,8511,0,8512,8516,51,8517,8521,0,8522,8525,51,8526,8526,0,8527,8543,51,8544,8584,0,8585,11263,51,11264,11310,0,11311,11311,51,11312,11358,0,11359,11359,51,11360,11492,0,11493,11498,51,11499,11502,52,11503,11505,51,11506,11507,0,11508,11519,51,11520,11557,0,11558,11558,51,11559,11559,0,11560,11564,51,11565,11565,0,11566,11567,51,11568,11623,0,11624,11630,51,11631,11631,0,11632,11646,52,11647,11647,51,11648,11670,0,11671,11679,51,11680,11686,0,11687,11687,51,11688,11694,0,11695,11695,51,11696,11702,0,11703,11703,51,11704,11710,0,11711,11711,51,11712,11718,0,11719,11719,51,11720,11726,0,11727,11727,51,11728,11734,0,11735,11735,51,11736,11742,0,11743,11743,52,11744,11775,0,11776,11822,51,11823,11823,0,11824,12292,51,12293,12295,0,12296,12320,51,12321,12329,52,12330,12335,0,12336,12336,51,12337,12341,0,12342,12343,51,12344,12348,0,12349,12352,51,12353,12438,0,12439,12440,52,12441,12442,0,12443,12444,51,12445,12447,0,12448,12448,51,12449,12538,0,12539,12539,51,12540,12543,0,12544,12548,51,12549,12589,0,12590,12592,51,12593,12686,0,12687,12703,51,12704,12730,0,12731,12783,51,12784,12799,0,12800,13311,51,13312,19893,0,19894,19967,51,19968,40908,0,40909,40959,51,40960,42124,0,42125,42191,51,42192,42237,0,42238,42239,51,42240,42508,0,42509,42511,51,42512,42527,52,42528,42537,51,42538,42539,0,42540,42559,51,42560,42606,52,42607,42607,0,42608,42611,52,42612,42621,0,42622,42622,51,42623,42647,0,42648,42654,52,42655,42655,51,42656,42735,52,42736,42737,0,42738,42774,51,42775,42783,0,42784,42785,51,42786,42888,0,42889,42890,51,42891,42894,0,42895,42895,51,42896,42899,0,42900,42911,51,42912,42922,0,42923,42999,51,43e3,43009,52,43010,43010,51,43011,43013,52,43014,43014,51,43015,43018,52,43019,43019,51,43020,43042,52,43043,43047,0,43048,43071,51,43072,43123,0,43124,43135,52,43136,43137,51,43138,43187,52,43188,43204,0,43205,43215,52,43216,43225,0,43226,43231,52,43232,43249,51,43250,43255,0,43256,43258,51,43259,43259,0,43260,43263,52,43264,43273,51,43274,43301,52,43302,43309,0,43310,43311,51,43312,43334,52,43335,43347,0,43348,43359,51,43360,43388,0,43389,43391,52,43392,43395,51,43396,43442,52,43443,43456,0,43457,43470,51,43471,43471,52,43472,43481,0,43482,43519,51,43520,43560,52,43561,43574,0,43575,43583,51,43584,43586,52,43587,43587,51,43588,43595,52,43596,43597,0,43598,43599,52,43600,43609,0,43610,43615,51,43616,43638,0,43639,43641,51,43642,43642,52,43643,43643,0,43644,43647,51,43648,43695,52,43696,43696,51,43697,43697,52,43698,43700,51,43701,43702,52,43703,43704,51,43705,43709,52,43710,43711,51,43712,43712,52,43713,43713,51,43714,43714,0,43715,43738,51,43739,43741,0,43742,43743,51,43744,43754,52,43755,43759,0,43760,43761,51,43762,43764,52,43765,43766,0,43767,43776,51,43777,43782,0,43783,43784,51,43785,43790,0,43791,43792,51,43793,43798,0,43799,43807,51,43808,43814,0,43815,43815,51,43816,43822,0,43823,43967,51,43968,44002,52,44003,44010,0,44011,44011,52,44012,44013,0,44014,44015,52,44016,44025,0,44026,44031,51,44032,55203,0,55204,55215,51,55216,55238,0,55239,55242,51,55243,55291,0,55292,63743,51,63744,64109,0,64110,64111,51,64112,64217,0,64218,64255,51,64256,64262,0,64263,64274,51,64275,64279,0,64280,64284,51,64285,64285,52,64286,64286,51,64287,64296,0,64297,64297,51,64298,64310,0,64311,64311,51,64312,64316,0,64317,64317,51,64318,64318,0,64319,64319,51,64320,64321,0,64322,64322,51,64323,64324,0,64325,64325,51,64326,64433,0,64434,64466,51,64467,64829,0,64830,64847,51,64848,64911,0,64912,64913,51,64914,64967,0,64968,65007,51,65008,65019,0,65020,65023,52,65024,65039,0,65040,65055,52,65056,65062,0,65063,65074,52,65075,65076,0,65077,65100,52,65101,65103,0,65104,65135,51,65136,65140,0,65141,65141,51,65142,65276,0,65277,65295,52,65296,65305,0,65306,65312,51,65313,65338,0,65339,65342,52,65343,65343,0,65344,65344,51,65345,65370,0,65371,65381,51,65382,65470,0,65471,65473,51,65474,65479,0,65480,65481,51,65482,65487,0,65488,65489,51,65490,65495,0,65496,65497,51,65498,65500,0,65501,1/0],isEnd:[0,1,0,1,0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,1,1,0,0,0,1,0,0,1,0,1,0,0,0,0,0,0,1,1,0,1,1,0,1,1,0,0,0,1,1],hasArc:[1,1,1,1,1,1,0,0,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,0,1,1,1,0,1,1,1,1,1,1,0,0,1,1,1,0,1,1,0,1,0,1,1,1,1,1,1,0,0,1,0,0,1,0,0,1,1,1,0,0]},{pnext:[6,6,7,7,1,2,3,4,1,5,6,6,1,5,-1,-1],disnext:[4,12,0,-4,-4,10,8,-4],checknext:[2,2,2,2,0,0,0,0,6,6,5,5,1,1,-1,-1],maxAsicii:255,classTable:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],unicodeClassTable:[0,256,1/0],isEnd:[1,1,0,1,1,0,1,1],hasArc:[1,1,1,0,0,1,1,0]},{pnext:[1,1],disnext:[1,0],checknext:[1,0],maxAsicii:255,classTable:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],unicodeClassTable:[0,256,1/0],isEnd:[0,1],hasArc:[1,1]}];var xt=[-1,-1,-1,1,-1,-1,22,23,28,29,37,30,-1,31,33,21,24,20,27,25,26,36,3,35,4,1,-1,2,-1,1,1,1,1,34,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,-1,-1,-1,32,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,6,-1,-1,-1,-1,-1,-1,-1,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,17,8,-1,-1,-1,16,-1,-1,15,-1,14,-1,-1,-1,-1,-1,-1,9,7,-1,12,19,-1,5,18,-1,-1,-1,10,13],bt=[38,38,-1,3,4,-1,38,39],yt=[-1,40],St=41,Tt=184,Et=[9,7,15,16,17,18,94,10,11,-116,12,161,13,14,169,170,168,-53,127,-117,-53,-91,-54,124,125,-54,48,49,160,5,159,157,-53,71,158,72,127,-54,-91,-109,-91,124,125,110,67,68,106,-109,103,106,27,106,165,67,68,27,106,111,183,77,63,-42,75,138,54,105,182,53,105,181,105,180,150,178,177,105,176,64,150,174,173,137,163,162,154,121,142,141,140,139,135,-109,131,130,129,121,118,-98,116,115,114,113,112,107,100,98,97,92,88,86,85,81,80,79,74,70,65,58,56,55,52,50,46,45,44,40,22,35,33,28,22,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],wt=[-41,131,-5,-41,129,-41,-41,54,126,-41,-41,-41,-41,126,106,-41,-41,-41,125,-41,-41,-41,104,49,-41,-41,-41,-41,-41,-41,-41,-41,-41,103,122,88,-41,-5,118,119,-41,63,-41,118,98,77,-41,-41,-41,-41,40,-41,-41,92,95,-41,-41,-41,0,-41,103,58,-41,112,110,-41,-41,-41,108,-41,-41,-41,96,87,-41,-41,-41,87,-41,-41,-41,-41,91,5,-41,105,81,103,15,-41,36,47,-41,79,44,20,-41,81,81,69,95,-41,-41,-41,97,-41,96,-41,-41,-41,95,-41,64,-41,-41,74,92,-41,72,-41,88,70,-41,88,-41,-41,86,84,-41,-41,-41,-41,61,-41,54,-41,-41,12,-41,-41,-41,-6,-41,49,2,-41,9,46,-41,52,-41,6,26,-41,-41,-13,-41,45,79,57,-41,76,74,70,-41,-3,-41,-41,-41,-41,50,70,51,67,-41,-41,-41,-41,40,-41,35,-41,-41],At=[2,2,2,2,2,2,83,2,2,151,2,146,2,2,155,155,155,165,141,88,165,83,144,141,141,144,37,37,146,2,146,146,165,58,146,58,137,144,83,90,83,137,137,95,151,151,94,94,91,91,23,23,152,88,88,7,7,95,180,61,50,90,61,152,41,94,178,41,91,173,23,172,171,170,163,7,162,50,161,159,158,157,149,147,143,134,132,127,126,123,121,120,118,116,115,112,110,106,104,100,99,98,97,93,87,86,85,82,77,73,72,68,64,63,60,54,53,45,44,43,39,38,35,34,33,22,18,14,13,8,4,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ct=[4,-1,-1,0,-1,3,5,-1,-1,108,108,108,108,-1,-1,19,20,21,1,76,77,78,29,7,23,24,25,27,9,10,11,108,13,14,-1,-1,75,-1,-1,-1,22,-1,12,-1,-1,17,84,80,81,33,-1,30,8,-1,-1,16,2,18,-1,83,87,38,28,-1,-1,111,113,114,-1,15,79,84,93,-1,6,32,34,-1,31,26,112,82,103,95,91,-1,-1,50,115,85,104,-1,92,96,41,-1,89,-1,-1,-1,-1,105,106,107,-1,102,94,99,100,86,-1,50,40,50,117,-1,-1,88,-1,36,41,-1,45,-1,47,48,-1,-1,101,98,35,39,-1,43,40,56,67,108,46,49,112,108,37,51,56,55,-1,69,72,73,44,109,-1,56,54,61,50,68,-1,-1,66,-1,-1,-1,42,56,57,58,59,60,-1,70,-1,-1,71,74,110,62,-1,64,-1,63,65],Nt=[5,155,101,132,7,94,92,23,24,154,146,166,163,150,65,68,154,146,152,122,103,108,132,65,68,100,89,90,72,46,40,38,174,171,98,135,133,127,75,22,77,178,147,148,125,127,142,119,25,116,125,127,107,131,132,133,127,95,82,83,81,60,56,50,35,33,31,127,170,135,25,18,19,20,1,151,2,165,145,146,143,144,145,146,121,135,88,133,127,118,135,86,61,58,59,60,42,127,36,20,41,37,30,127,29,127,28,127,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],Rt=[73,-60,-4,-60,36,-60,34,-2,-60,53,51,49,13,-60,59,-60,-60,-60,62,-60,-60,63,19,20,-60,-60,-60,89,-60,-60,-60,43,-60,-60,-60,-60,-60,-10,-60,50,-60,-60,-60,-60,-60,55,53,-60,-60,78,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,-15,23,-60,-60,-60,-60,-60,-60,-60,-60,-60,19,13,-60,-60,-60,75,-60,-60,-60,30,-60,-25,-42,-60,13,-60,11,-34,-60,-17,-30,-60,-60,2,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,0,-60,-60,-60,-60,66,29,61,-60,-60,-60,-60,-60,-60,34,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,28,55,-60,-9,-60,-60,19,-3,-60,-60,-11,-60,-29,-60,-60,-60,-60,-43,-60,51,-60,-18,45,2,-60,-60,-60,-2,-60,-60,-60,-18,-60,-60,-60,-60,-60,9,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60,-60],Lt=[2,0,6,2,0,0,6,2,4,2,2,2,3,2,2,4,3,0,1,1,1,1,2,1,1,1,4,0,3,0,1,3,2,0,0,6,5,7,0,2,0,0,4,1,3,1,2,1,1,2,0,2,3,1,2,1,0,3,1,1,1,0,3,4,3,4,1,1,0,1,0,3,1,1,3,2,1,1,0,5,1,1,3,1,0,4,4,0,3,1,1,1,2,0,2,0,1,0,4,2,2,3,1,0,1,2,2,2,0,0,5,2,0,1,1,0,0,5],It=[0,2,1,3,3,5,4,4,4,4,4,4,4,4,4,6,6,7,7,8,8,8,9,9,10,10,11,11,12,12,13,13,14,14,16,15,15,15,17,18,18,20,19,19,21,21,22,22,22,22,24,23,25,25,26,26,28,27,29,29,29,29,30,30,30,30,30,31,31,32,32,33,33,34,34,35,35,36,38,37,39,39,40,40,42,41,43,43,44,44,45,45,46,46,47,47,48,49,48,48,48,50,50,51,51,51,52,52,54,55,53,56,56,57,57,58,59,57],_t=["EOF","NAME","STRING","OPEN_BLOCK","CLOSE_BLOCK","OPT_DIR","LEX_DIR","TOKEN_DIR","LEFT_DIR","RIGHT_DIR","NONASSOC_DIR","USE_DIR","HEADER_DIR","EXTRA_ARG_DIR","EMPTY","TYPE_DIR","PREC_DIR","INIT_DIR","OUTPUT_DIR","IMPORT_DIR","GT","LT","BRA","KET","EQU","CBRA","CKET","QUESTION","STAR","PLUS","DASH","COLON","ARROW","EOL","SEPERATOR","OR","WEDGE","COMMA","ANY_CODE","ESCAPED_CHAR_IN_BLOCK","ANY_EPLOGUE_CODE"],Dt=[null,null,null,"{","}","%option","%lex","%token","%left","%right","%nonassoc","%use","%header","%extra_arg","%empty","%type","%prec","%init","%output","%import",">","<","(",")","=","[","]","?","*","+","-",":","=>",";","%%","|","^",",",null,null,null];var Ot=function(){function t(t,e,n,r,i,a){this.id=t,this.val=e,this.startLine=n,this.startColumn=r,this.endLine=i,this.endColumn=a}return t.prototype.clone=function(){return new t(this.id,this.val,this.startLine,this.startColumn,this.endLine,this.endColumn)},t.prototype.toString=function(){return(null===Dt[this.id]?"<"+_t[this.id]+">":'"'+Dt[this.id]+'"')+'("'+this.val+'")'},t}();function Ut(){var t,e,n,r,i,a,o,s,u,l,c,h,f,d,p,v,g={state:-1,line:0,column:0},m=[],k={};return{init:function(d,p){t=[0],e=0,n="",r=new Ot(-1,null,0,0,0,0),g.state=-1,i=0,a=s=0,o=u=0,l=[0],m=[],c=null,h=!1,f=p},on:function(t,e){k[t]||(k[t]=[]),k[t].push(e)},accept:N,end:function(){for(;!h&&!C(););h=!0},halt:function(){h=!0}};function x(t){n=t,s=a,u=o}function b(t){r.id=t,r.val=n,r.startLine=s,r.startColumn=u,r.endLine=a,r.endColumn=o-1,n="",s=a,u=o}function y(){for(S("token",_t[r.id],r.val);!h&&!L(r););r.id=-1}function S(t,e,n,r){var i=k[t];if(i)for(var a=0;a<i.length;a++)i[a](e,n,r)}function T(t,e){switch(t){case 0:!function(t){var e=xt[t];switch(-1!==e&&b(e),t){case 1:x("");break;case 3:c=dt(r);break;case 22:case 24:c=pt(r);break;case 25:c=dt(r);break;case 27:(c=dt(r)).val=gt(c.val.substr(1,c.val.length-2));break;case 29:case 30:case 31:case 32:c=dt(r);break;case 45:(c=dt(r)).val=gt(c.val.substr(1,c.val.length-2));break;case 48:case 71:case 91:x("")}}(e);break;case 1:!function(t){var e=bt[t];switch(-1!==e&&b(e),t){case 0:case 1:c=et(r.val);break;case 3:case 4:c=pt(r);break;case 6:c=et(r.val);break;case 7:c=et(r.val.charAt(1))}}(e);break;case 2:!function(t){var e=yt[t];switch(-1!==e&&b(e),t){case 1:c=dt(r)}}(e)}-1!==r.id&&y()}function E(){var t=n.substr(n.length-i,i);return n=n.substr(0,n.length-i),i=0,a=g.line,o=g.column,e=g.state,g.state=-1,t}function w(t){return t===mt?(a++,o=0):o+=t>255?2:1,n+=String.fromCharCode(t),-1!==g.state&&i++,!0}function A(n){var r=t[t.length-1],s=kt[r],u=1===s.isEnd[e],l=1===s.hasArc[e],c=n<s.maxAsicii?s.classTable[n]:function(t,e){for(var n=0;n<t.length;n+=3){if(e>=t[n+1]&&e<=t[n+2])return t[n];if(e<t[n+1])return-1}return-1}(s.unicodeClassTable,n),h=-1;if(-1!==c){var f=s.disnext[e]+c;f>=0&&f<s.pnext.length&&s.checknext[f]===e&&(h=s.pnext[f])}if(u)return l?-1===h?(T(r,e),g.state=-1,i=0,e=0,!1):(g.state=e,g.line=a,g.column=o,i=0,e=h,w(n)):(T(r,e),g.state=-1,i=0,e=0,!1);if(-1===h){if(-1!==g.state){var d=E();return T(r,e),e=0,N(d),!1}return S("lexicalerror",String.fromCharCode(n),a,o),!0}return e=h,w(n)}function C(){if(0===e)return b(0),y(),!0;var n=t[t.length-1];if(kt[n].isEnd[e])return T(n,e),e=0,g.state=-1,!1;if(-1!==g.state){var r=E();return T(n,e),e=0,N(r),!1}return S("lexicalerror","",a,o),!0}function N(t){for(var e=0;e<t.length&&!h;)A(t.charCodeAt(e))&&e++}function R(e){var n=It[e],r=m.length,i=m[r-Lt[e]]||null;switch(e){case 1:t.push(2);break;case 5:f.lexBuilder.prepareLex();break;case 7:f.incPr();break;case 9:var a=m[r-1];f.setHeader(a);break;case 10:a=m[r-1];f.setExtraArg(a);break;case 11:var o=m[r-1];f.setType(o);break;case 12:var s=m[r-2];a=m[r-1];f.setInit(s,a);break;case 13:var u=m[r-1];f.setOutput(u);break;case 15:case 16:R=m[r-2];f.defToken(R,null);break;case 18:var c=m[r-1];f.setEpilogue(c);break;case 19:d=U.LEFT;break;case 20:d=U.RIGHT;break;case 21:d=U.NON;break;case 24:R=m[r-1];f.defineTokenPrec(R,d,R.ext);break;case 25:R=m[r-1];f.defineTokenPrec(R,d,ht.NAME);break;case 26:var h=m[r-3],g=m[r-1];f.setOpt(h,g);break;case 29:f.lexBuilder.selectState("DEFAULT");break;case 30:case 31:w=m[r-1];f.lexBuilder.selectState(w.val);break;case 34:var k=m[r-1];f.lexBuilder.prepareVar(k);break;case 35:k=m[r-6];f.lexBuilder.endVar();break;case 36:f.lexBuilder.end(p,"(untitled)");break;case 37:var x=m[r-5],b=f.defToken(x,f.lexBuilder.getPossibleAlias());p.push({toCode:lt,token:b.index}),f.lexBuilder.end(p,x.val);break;case 38:f.lexBuilder.newState();break;case 40:case 41:p=[];break;case 43:a=m[r-1];p=[ct(a.val,a.startLine)];break;case 46:var y=m[r-1];f.addPushStateAction(p,y);break;case 47:p.push({toCode:function(t){t.popLexState()},token:-1});break;case 48:a=m[r-1];p.push(ct(a.val,a.startLine));break;case 49:w=m[r-1];p.push((F=w.val,{toCode:function(t){t.setImg(F)},token:-1}));break;case 50:f.lexBuilder.enterUnion();break;case 51:f.lexBuilder.leaveUnion();break;case 52:case 53:f.lexBuilder.endUnionItem();break;case 56:f.lexBuilder.enterSimple();break;case 57:var S=m[r-1];f.lexBuilder.simplePostfix(S.val);break;case 58:i=et("+");break;case 59:i=et("?");break;case 60:i=et("*");break;case 61:i=et("");break;case 64:var T=m[r-2];f.lexBuilder.addVar(T);break;case 65:var E=m[r-2];f.lexBuilder.importVar(E);break;case 66:w=m[r-1];f.lexBuilder.addString(w.val);break;case 67:f.lexBuilder.beginSet(!0);break;case 68:f.lexBuilder.beginSet(!1);break;case 73:var w=m[r-1];f.lexBuilder.addSetItem(w,w);break;case 74:var A=m[r-3],C=m[r-1];f.lexBuilder.addSetItem(A,C);break;case 78:T=m[r-1];v=T;break;case 84:f.prepareRule(v);break;case 85:f.commitRule();break;case 88:case 89:y=m[r-1];f.addRuleUseVar(y);break;case 94:var N=m[r-2];f.addRuleSematicVar(N);break;case 96:R=m[r-1];f.addRuleItem(R,ht.NAME);break;case 97:y=m[r-2];f.addRuleSematicVar(y);break;case 98:y=m[r-4],R=m[r-1];f.addRuleItem(R,ht.NAME);break;case 99:R=m[r-1];f.addRuleItem(R,R.ext);break;case 100:f.addAction(p);break;case 101:(i=R=m[r-2]).ext=ht.TOKEN;break;case 102:i.ext=ht.STRING;break;case 105:f.addAction(p);break;case 106:R=m[r-1];f.defineRulePr(R,ht.NAME);break;case 107:var R=m[r-1];f.defineRulePr(R,R.ext);break;case 108:t.push(1);break;case 109:var L=m[r-2],I=m[r-1];t.pop();break;case 110:L=m[r-4],I=m[r-3];var _=m[r-1];D=L,O=_,i={val:I.val,startLine:D.startLine,startColumn:D.startColumn,endLine:O.endLine,endColumn:O.endColumn};break;case 111:a=m[r-1];i.val+=a.val;break;case 112:i=et("");break;case 115:t.push(1);break;case 116:a=m[r-1];t.pop();break;case 117:a=m[r-3];(i=et("")).val="{"+a.val+"}"}var D,O,F;l.length-=Lt[e];var B=l[l.length-1];l.push(Nt[Rt[B]+n]),m.length-=Lt[e],m.push(i)}function L(t){var e=l[l.length-1],n=wt[e]+t.id,r=0;return(r=n<0||n>=Et.length||At[n]!==e?-Ct[e]-1:Et[n])===Tt?(I(t),!0):r>0?0===t.id?(h=!0,S("accept"),!0):(l.push(r-1),m.push(c),c=null,!0):r<0?(R(-r-1),!1):(I(t),!0)}function I(t){var e="unexpected token "+t.toString()+", expecting one of the following token(s):\n";S("syntaxerror",e+=function(t){var e=wt[t],n="";function r(n){var r=e+n;return!(r<0||r>=Et.length||t!==At[r])||-1!==Ct[t]}for(var i=0;i<St;i++)r(i)&&(n+="    "+(a=i,null===Dt[a]?"<"+_t[a]+">":'"'+Dt[a]+'"')+" ...\n");var a;return n}(l[l.length-1]),t)}}function Ft(t,e){var n=Ut(),r=!1;n.on("lexicalerror",function(e,i,a){t.requireLines(function(t,n){var r="unexpected character "+e;r+=" "+nt((o=e,s=i,u=a,{startLine:s,startColumn:u,endLine:s,endColumn:o.charCodeAt(0)>255?u+1:u}),n);var o,s,u;t.err(new w(r,"Lexical error"))}),n.halt(),r=!0}),n.on("syntaxerror",function(e,i){t.requireLines(function(t,n){var r=nt(i,n)+d+e;t.err(new w(r,"Syntax error"))}),n.halt(),r=!0});var i=function(t){var e,n=new Z,r=new J,i={},a={},o=[],s=null,u={},l=null,c=0,h=!0,f=1,p=[],v=[],g={};return n.grammar=r,e=ut(t),l=new tt(function(t){return u[t]}),y(et("EOF"),null),{defToken:y,getTokenID:function(t){var e=T(t);return null===e?"0":String(e.index)},getTokenByAlias:S,getTokenByName:T,defineTokenPrec:function(t,e,n){if(n===ht.TOKEN){var r=T(t);null!==r&&(r.assoc=e,r.pr=f)}else if(n===ht.STRING){var r=S(t);null!==r&&(r.assoc=e,r.pr=f)}else n===ht.NAME&&(g[t.val]=g[t.val]||{assoc:e,pr:f,pos:t})},setOpt:function(t,e){n.opt[t.val]={name:t,val:e}},setOutput:function(t){null!==n.output&&b("redefine of output",n.output,t),n.output=t},setHeader:function(t){n.header.push(t)},setExtraArg:function(t){null!==n.extraArgs&&b("redefine of extra arguments",n.extraArgs,t),n.extraArgs=t},setType:function(t){null!==n.sematicType&&b("redefine of sematic type",n.sematicType,t),n.sematicType=t},setInit:function(t,e){null!==n.initArg&&b("redefine of initializing block",n.initArg,t),n.initArg=t,n.initBody=e},setEpilogue:function(t){n.epilogue=t},incPr:function(){f++},prepareRule:E,addRuleUseVar:function(t){var e=m();void 0!==e.usedVars[t.val]?x('re-use of sematic variable "'+t.val+'"',t):e.usedVars[t.val]={pos:t,val:0}},addRuleSematicVar:function(t){var e=m();void 0!==e.usedVars[t.val]?x('variable "'+t.val+'" conflicts with another imported variable',t):void 0!==e.vars[t.val]?x('sematic variable "'+t.val+'" is already defined',t):s=t},addRuleItem:C,addAction:N,defineRulePr:function(t,e){if(e===ht.STRING||e===ht.TOKEN){var n=e===ht.STRING?S(t):T(t);if(null!==n){if(n.assoc===U.UNDEFINED)return void x('precedence of token "'+t.val+'" has not been defined',t);m().pr=n.pr}}else{var r=g[t.val];r||x('pseudo token "'+t+'" is not defined',t),m().pr=r.pr}},commitRule:R,addPushStateAction:function(t,n){e.requiringState.wait(n.val,function(e,r){e?t.push((i=r,{toCode:function(t){t.pushLexState(i)},token:-1})):x('state "'+n.val+'" is undefined',n);var i})},build:function(){r.tokenCount=r.tokens.length,r.tokens[0].used=!0,r.nts[0].used=!0;for(var t=0,i=r.nts;t<i.length;t++){var a=i[t];a.firstSet=new D(r.tokenCount);for(var o=0,s=a.rules;o<s.length;o++){var u=s[o];u.calcPr();var c=function(t){var e=u.usedVars[t];e.val=u.getVarSp(t,function(n){x('cannot find variable "'+t+'": '+n,e.pos)})};for(var h in u.usedVars)c(h)}}n.lexDFA=e.build();for(var f=0,d=v;f<d.length;f++){var p=d[f];p()}return l.fail(),n},lexBuilder:e};function m(){return o[o.length-1]}function k(){var t=s;s=null;var e=m(),n="@"+c++;E(et(n));var r=m();N(e.action),R(),e.action=null,C(et(n),ht.NAME),s=t;for(var i in e.vars){var a=e.vars[i];r.usedVars[i]={val:a.val,pos:a.pos}}for(var i in e.usedVars)a=e.usedVars[i],r.usedVars[i]={val:a.val,pos:a.pos}}function x(e,n){t.requireLines(function(t,r){t.err(new w(e+" "+nt(n,r),"Compilation error"))})}function b(e,n,r){t.requireLines(function(t,i){var a=e+" "+nt(r,i)+d;a+="previous defination was at "+nt(n,i),t.warn(new A(a))})}function y(t,e){var n=i[t.val];return void 0!==n?(n.appears.push(t),n):(n={index:r.tokens.length,sym:t.val,alias:e,pr:0,assoc:U.UNDEFINED,used:!1,appears:[t]},null!==e&&(a[e]||(a[e]=[]),a[e].push(n)),i[t.val]=n,r.tokens.push(n),n)}function S(t){var e=a[t.val];if(void 0===e)return x('cannot identify "'+t.val+'" as a token',t),null;if(e.length>1){for(var n="",r=0;r<e.length;r++)r>0&&(n+=","),n+="<"+e[r].sym+">";return x("cannot identify "+t.val+" as a token, since it could be "+n,t),null}return e[0]}function T(t){var e=i[t.val];return void 0===e?(x("cannot identify <"+t.val+"> as a token",t),null):e}function E(t){h&&(h=!1,E(et("(accept)")),C(et(t.val),ht.NAME),C(et("EOF"),ht.TOKEN),R());var e=u[t.val];void 0===e&&(e=u[t.val]={index:r.nts.length,sym:t.val,firstSet:null,used:!1,rules:[],parents:[]},r.nts.push(e),l.signal(t.val,e));var n=new X(r,e,t);o.push(n)}function C(t,e){var n=m();if(null!==n.action&&k(),null!==s&&(n.vars[s.val]={val:n.rhs.length,pos:s},s=null),e===ht.NAME){var r=n.rhs.length;n.rhs.push(0),l.wait(t.val,function(e,i){e?(n.rhs[r]=-i.index-1,i.parents.push({rule:n,pos:r}),i.used=!0):x("use of undefined non terminal "+t.val,t)})}else if(e===ht.TOKEN){var a=i[t.val];if(void 0===a)return void x("cannot recognize <"+t.val+"> as a token",t);n.rhs.push(a.index),a.used=!0}else if(e===ht.STRING){var o=S(t);null!==o&&(n.rhs.push(o.index),o.used=!0)}}function N(t){var e=m();null!==e.action&&k(),e.action=t,null!==s&&(e.vars[s.val]={val:e.rhs.length,pos:s},s=null,k())}function R(){var t=o.pop();t.index=r.rules.length,t.lhs.rules.push(t),r.rules.push(t);for(var e=0,n=p;e<n.length;e++)(0,n[e])();p.length=0}}(t);return n.init(t,i),n.accept(e),n.end(),r?null:i.build()}var Bt=function(t,e){f("/*"),f("    generated by jscc, an LALR(1) parser generator made by hadroncfy."),f("    template for typescript, written by hadroncfy, aussi."),h("*/");for(var n=0,r=t.file.header;n<r.length;n++){var i=r[n];f(""),h(i.val)}var a=t.file.prefix,o=c("tab","    "),s="typescript"===t.output;function u(t,e){return s?t:e||""}function l(t,e){return void 0===e&&(e=""),null===t?e:t.val}function c(e,n){var r=t.file.opt[e];return void 0===r?n:r.val.val}function h(t){e.write(t)}function f(t){e.writeln(t)}function d(t,e){return(t.length<e?function(t,e){for(var n="";e-- >0;)n+=t;return n}(" ",e-t.length):"")+t}function p(e,n,r,i,s){var u=1;f(""),h("var "),h(a+e),f(" = [ "),h(o);for(var l=0,c=n;l<c.length;l++){h(d(s(c[l]),r)),h(","),u++>=i&&(u=1,h(t.endl+o))}f(""),h("]; ")}function v(t,e){p("lexTokens"+e,t.states,6,10,function(t){return t.endAction?function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if(-1!==r.token)return r.token}return-1}(t.endAction.data).toString():"-1"})}f(""),f("/*"),f("    constants"),f("*/"),h("var "),h(a),h("eol = '\\n'.charCodeAt(0);"),s&&(f(""),f("interface DFATable{"),f("    pnext: number[];"),f("    disnext: number[];"),f("    checknext: number[];"),f("    maxAsicii: number;"),f("    classTable: number[];"),f("    unicodeClassTable: number[];"),f("    isEnd: number[];"),f("    hasArc: number[];"),h("};"));var g=t.file.dfaTables;function m(t,e){function n(t){return a+t+String(e)}p("lexpnext"+e,t.pnext,6,10,function(t){return null===t?"-1":String(t.to.index)}),p("lexdisnext"+e,t.disnext,6,10,function(t){return String(t)}),p("lexchecknext"+e,t.checknext,6,10,function(t){return String(t)}),p("lexclassTable"+e,t.classTable,6,10,function(t){return String(t)}),p("lexunicodeClassTable"+e,t.unicodeClassTable,6,10,function(t){return String(t)}),p("lexisEnd"+e,t.states,1,15,function(t){return null===t.endAction?"0":"1"}),p("lexhasArc"+e,t.states,1,15,function(t){return 0===t.arcs.length?"0":"1"}),f(""),h("var "),h(a),h("lextable"),h(String(e)+u(": DFATable")),f(" = {"),h("    pnext: "),h(n("lexpnext")),f(","),h("    disnext: "),h(n("lexdisnext")),f(","),h("    checknext: "),h(n("lexchecknext")),f(","),h("    maxAsicii: "),h(t.maxAsicii),f(","),h("    classTable: "),h(n("lexclassTable")),f(","),h("    unicodeClassTable: "),h(n("lexunicodeClassTable")),f(","),h("    isEnd: "),h(n("lexisEnd")),f(","),h("    hasArc: "),h(n("lexhasArc")),f(""),h("};")}f(""),f("/*"),f("    dfa table definations"),h("*/");for(var k=0,x=g;k<x.length;k++)m(x[k],k);f(""),f("/*"),f("    dfa tables"),f("*/"),h("var "),h(a),h("dfaTables"),h(u(": DFATable[]")),h(" = [");for(k=0;k<g.length;k++)f(""),h("    "),h(a),h("lextable"),h(k),h(",");f(""),f("];"),f("/*"),f("    find unicode class"),f("*/"),h("function "),h(a),h("findUnicodeClass(uc"),h(u(": number[]")),h(", c"),h(u(": number")),f("){"),f("    for(var i = 0; i < uc.length; i += 3){"),f("        if(c >= uc[i + 1] && c <= uc[i + 2]){"),f("            return uc[i];"),f("        }"),f("        else if(c < uc[i + 1]){"),f("            return -1;"),f("        }"),f("    }"),f("    return -1;"),f("}"),f("/*"),f("    tokens that a lexical dfa state can return"),h("*/");for(k=0,x=g;k<x.length;k++)v(x[k],k);f("");var b=t.pt;f(""),h("var "),h(a),h("stateCount = "),h(b.stateCount),f(";"),h("var "),h(a),h("tokenCount = "),h(t.file.grammar.tokens.length),f(";"),h("var "),h(a),h("actERR = "),h(b.stateCount+1),f(";"),f("/*"),h("    compressed action table: action = "),h(a),h("pact["),h(a),f("disact[STATE-NUM] + TOKEN]"),f("    when action > 0, shift the token and goto state (action - 1);"),f("    when action < 0, reduce with rule (1-action);"),f("    when action = 0, do default action."),h("*/"),p("pact",b.pact,6,10,function(t){return null===t?"0":t===F.NULL?String(b.stateCount+1):t.actionType===I.SHIFT?(t.shift.stateIndex+1).toString():t.actionType===I.REDUCE?(-t.rule.index-1).toString():void 0}),f(""),f("/*"),f("    displacement of action table."),h("*/"),p("disact",b.disact,6,10,function(t){return t.toString()}),f(""),f("/*"),h("    used to check if a position in "),h(a),f("pact is out of bouds."),h("    if "),h(a),h("checkact["),h(a),f("disact[STATE-NUM] + TOKEN] = STATE-NUM, this position is not out of bounds."),h("*/"),p("checkact",b.checkact,6,10,function(t){return void 0===t?"0":t.toString()}),f(""),f("/*"),h("    default action table. action = "),h(a),f("defred[STATE-NUM],"),f("    where action is the number of the rule to reduce with."),h("*/"),p("defred",b.defred,6,10,function(t){return t.toString()}),f(""),f("/*"),h("    compressed goto table: goto = "),h(a),h("pgoto["),h(a),f("disgoto[STATE-NUM] + NON_TERMINAL]"),h("*/"),p("pgoto",b.pgoto,6,10,function(t){return null===t?"-1":t.shift.stateIndex.toString()}),f(""),f("/*"),f("    displacement of the goto table"),h("*/"),p("disgoto",b.disgoto,6,10,function(t){return t.toString()}),f(""),f("/*"),h("    length of each rule: rule length = "),h(a),f("ruleLen[RULE-NUM]"),h("*/"),p("ruleLen",b.g.rules,6,10,function(t){return t.rhs.length.toString()}),f(""),f("/*"),f("    index of the LHS of each rule"),h("*/"),p("lhs",b.g.rules,6,10,function(t){return t.lhs.index.toString()}),f(""),f("/*"),f("    token names"),h("*/"),p("tokenNames",b.g.tokens,20,3,function(t){return'"'+t.sym.replace(/"/g,'\\"')+'"'}),f(""),f("/*"),f("    token alias"),h("*/"),p("tokenAlias",b.g.tokens,20,3,function(t){return t.alias?'"'+t.alias.replace(/"/g,'\\"')+'"':"null"});var y=c("className","Parser");f("");function S(t,e){var n={addBlock:function(t,e){f(""),h("                "),h(t.replace(/\$token/g,a+"token").replace(/\$\$/g,a+"sematicVal"))},pushLexState:function(t){f(""),h("                "),h(a),h("lexState.push("),h(t),h(");")},popLexState:function(){f(""),h("                "),h(a),h("lexState.pop();")},setImg:function(t){f(""),h("                "),h(a),h('setImg("'),h(t),h('");')},returnToken:function(t){f(""),h("                this."),h(a),f("token = {"),h("                    id: "),h(t.index),f(","),h("                    val: this."),h(a),f("matched.join('')"),h("                };")}};function r(t){for(var e=0,n=t;e<n.length;e++){if(-1===n[e].token)return!0}return!1}var i=a+"staten";f(""),h("    function "),h(a),h("doLexAction"),h(e),h("("),h(i+u(": number")),f("){"),h("        var "),h(a),h("tk = "),h(a),h("lexTokens"),h(e),h("["),h(i),f("];"),h("        "),h(a),h("tk !== -1 && "),h(a),h("prepareToken("),h(a),f("tk);"),h("        switch("),h(i),h("){");for(var o=0,s=t.states;o<s.length;o++)if(null!==s[o].endAction&&r(s[o].endAction.data)){f(""),h("            case "),h(o),h(":");for(var l=0,c=s[o].endAction.data;l<c.length;l++){var d=c[l];-1===d.token&&d.toCode(n)}f(""),h("                break;")}f(""),f("            default:;"),f("        }"),h("    }")}f(""),s?(f(""),f("function tokenToString(tk: number){"),h("    return "),h(a),h("tokenAlias[tk] === null ? `<${"),h(a),h('tokenNames[tk]}>` : `"${'),h(a),f('tokenAlias[tk]}"`;'),h("}")):(f(""),f("function tokenToString(tk){"),h("    return "),h(a),h('tokenAlias[tk] === null ? "<" + '),h(a),h('tokenNames[tk] + ">" : \'"\' + '),h(a),f("tokenAlias[tk] + '\"';"),h("}")),s?(f(""),f("class Token {"),f("    constructor("),f("        public id: number,"),f("        public val: string,"),f("        public startLine: number,"),f("        public startColumn: number,"),f("        public endLine: number,"),f("        public endColumn: number"),f("    ){}"),f("    clone(){"),f("        return new Token("),f("            this.id,"),f("            this.val,"),f("            this.startLine,"),f("            this.startColumn,"),f("            this.endLine,"),f("            this.endColumn"),f("        );"),f("    }"),f("    toString(){"),h("        return ("),h(a),f("tokenAlias[this.id] === null ? "),h("            `<${"),h(a),f("tokenNames[this.id]}>` :"),h('            `"${'),h(a),f('tokenAlias[this.id]}"`) + `("${this.val}")`;'),f("    }"),f("}"),h("interface "),h(y),f("{"),h("    init("),h(l(t.file.initArg)),f(");"),f("    accept(s: string);"),f("    end();"),f("    halt();"),f("    on(ent: string, cb: (a1?, a2?, a3?) => any);"),h("}")):(f(""),f("function Token(id, val, startLine, startColumn, endLine, endColumn){"),f("    this.id = id;"),f("    this.val = val;"),f("    this.startLine = startLine;"),f("    this.startColumn = startColumn;"),f("    this.endLine = endLine;"),f("    this.endColumn = endColumn;"),f("}"),f("Token.prototype.clone = function(){"),f("    return new Token("),f("        this.id,"),f("        this.val,"),f("        this.startLine,"),f("        this.startColumn,"),f("        this.endLine,"),f("        this.endColumn"),f("    );"),f("}"),f("Token.prototype.toString = function(){"),h("    return ("),h(a),f("tokenAlias[this.id] === null ? "),h("        '<' + "),h(a),f("tokenNames[this.id] + '>' :"),h("        '\"' + "),h(a),f('tokenAlias[this.id] + \'"\') + "(" + this.val + ")";'),h("}"));var T=l(t.file.sematicType,"any");f(""),h("function create"),h(y),h("()"),h(u(": "+y)),f(" {"),f("    // members for lexer"),h("    var "),h(a),h("lexState"),h(u(": number[]")),f(";"),h("    var "),h(a),h("state"),h(u(": number")),f(";"),h("    var "),h(a),h("matched"),h(u(": string")),f(";"),h("    var "),h(a),h("token"),h(u(": Token")),f(";"),f("    "),h("    var "),h(a),h("marker"),h(u(": { state: number, line: number, column: number }")),f(" = { state: -1, line: 0, column: 0 };"),h("    var "),h(a),h("backupCount"),h(u(": number")),f(";"),f(""),h("    var "),h(a),h("line"),h(u(": number")),f(";"),h("    var "),h(a),h("column"),h(u(": number")),f(";"),h("    var "),h(a),h("tline"),h(u(": number")),f(";"),h("    var "),h(a),h("tcolumn"),h(u(": number")),f(";"),f(""),f("    // members for parser"),h("    var "),h(a),h("lrState"),h(u(": number[]")),f(";"),h("    var "),h(a),h("sematicS"),h(u(": "+T+"[]")),f(" = [];"),h("    var "),h(a),h("sematicVal"),h(u(": "+T)),f(";"),f(""),h("    var "),h(a),f("stop;"),f(""),h("    var "),h(a),h("handlers"),h(u(": {[s: string]: ((a1?, a2?, a3?) => any)[]}")),f(" = {};"),f(""),f("    // extra members, defined by %extra_arg"),h("    "),h(l(t.file.extraArgs)),f(""),s?(f(""),f("    return {"),f("        init,"),f("        on,"),f("        accept,"),f("        end,"),f("        halt"),h("    };")):(f(""),f("    return {"),f("        init: init,"),f("        on: on,"),f("        accept: accept,"),f("        end: end,"),f("        halt: halt"),h("    };")),f(""),h("    function init("),h(l(t.file.initArg)),f("){"),h("        "),h(a),f("lexState = [ 0 ];// DEFAULT"),h("        "),h(a),f("state = 0;"),h("        "),h(a),f("matched = '';"),h("        "),h(a),f("token = new Token(-1, null, 0, 0, 0, 0);"),h("        "),h(a),f("marker.state = -1;"),h("        "),h(a),f("backupCount = 0;"),h("        "),h(a),h("line = "),h(a),f("tline = 0;"),h("        "),h(a),h("column = "),h(a),f("tcolumn = 0;"),f("        "),h("        "),h(a),f("lrState = [ 0 ];"),h("        "),h(a),f("sematicS = [];"),h("        "),h(a),f("sematicVal = null;"),f(""),h("        "),h(a),f("stop = false;"),h("        "),h(l(t.file.initBody)),f(""),f("    }"),f("    /**"),f("     *  set "),f("     */"),h("    function "),h(a),h("setImg(s"),h(u(": string")),f("){"),h("        "),h(a),f("matched = s;"),h("        "),h(a),h("tline = "),h(a),f("line;"),h("        "),h(a),h("tcolumn = "),h(a),f("column;"),f("    }"),h("    function "),h(a),h("prepareToken(tid"),h(u(": number")),f("){"),h("        "),h(a),f("token.id = tid;"),h("        "),h(a),h("token.val = "),h(a),f("matched;"),h("        "),h(a),h("token.startLine = "),h(a),f("tline;"),h("        "),h(a),h("token.startColumn = "),h(a),f("tcolumn;"),h("        "),h(a),h("token.endLine = "),h(a),f("line;"),h("        "),h(a),h("token.endColumn = "),h(a),f("column - 1;"),f(""),h("        "),h(a),f("matched = '';"),h("        "),h(a),h("tline = "),h(a),f("line;"),h("        "),h(a),h("tcolumn = "),h(a),f("column;"),f("    }"),h("    function "),h(a),f("returnToken(){"),h("        "),h(a),h("emit('token', "),h(a),h("tokenNames["),h(a),h("token.id], "),h(a),f("token.val);"),h("        while(!"),h(a),h("stop && !"),h(a),h("acceptToken("),h(a),f("token));"),h("        "),h(a),f("token.id = -1;"),f("    }"),h("    function "),h(a),h("emit(name"),h(u(": string")+u(", a1?, a2?, a3?",", a1, a2, a3")),f("){"),h("        var cbs = "),h(a),f("handlers[name];"),f("        if(cbs){"),f("            for(var i = 0; i < cbs.length; i++){"),f("                cbs[i](a1, a2, a3);"),f("            }"),f("        }"),f("    }"),h("    function on(name"),h(u(": string")),h(", cb"),h(u(": (a1?, a2?, a3?) => any")),f("){"),h("        "),h(a),h("handlers[name] || ("),h(a),f("handlers[name] = []);"),h("        "),h(a),f("handlers[name].push(cb);"),h("    }");for(k=0,x=g;k<x.length;k++)S(x[k],k);f(""),f("    /**"),f("     *  do a lexical action"),f("     *  @api private"),f("     *  @internal"),f("     */"),h("    function "),h(a),h("doLexAction(lexstate"),h(u(": number")),h(", state"),h(u(": number")),f("){"),h("        switch(lexstate){");for(k=0;k<g.length;k++)f(""),h("            case "),h(k),f(":"),h("                "),h(a),h("doLexAction"),h(k),f("(state);"),h("                break;");f(""),f("            default:;"),f("        }"),h("        "),h(a),h("token.id !== -1 && "),h(a),f("returnToken();"),f("    }"),h("    function "),h(a),h("rollback()"),h(u(": string")),f("{"),h("        var ret = "),h(a),h("matched.substr("),h(a),h("matched.length - "),h(a),h("backupCount, "),h(a),f("backupCount);"),h("        "),h(a),h("matched = "),h(a),h("matched.substr(0, "),h(a),h("matched.length - "),h(a),f("backupCount);"),h("        "),h(a),f("backupCount = 0;"),h("        "),h(a),h("line = "),h(a),f("marker.line;"),h("        "),h(a),h("column = "),h(a),f("marker.column;"),h("        "),h(a),h("state = "),h(a),f("marker.state;"),h("        "),h(a),f("marker.state = -1;"),f("        return ret;"),f("    }"),h("    function "),h(a),f("mark(){"),h("        "),h(a),h("marker.state = "),h(a),f("state;"),h("        "),h(a),h("marker.line = "),h(a),f("line;"),h("        "),h(a),h("marker.column = "),h(a),f("column;"),h("        "),h(a),f("backupCount = 0;"),f("    }"),h("    function "),h(a),h("consume(c"),h(u(": number")),f("){"),h("        c === "),h(a),h("eol ? ("),h(a),h("line++, "),h(a),h("column = 0) : ("),h(a),f("column += c > 0xff ? 2 : 1);"),h("        "),h(a),f("matched += String.fromCharCode(c);"),h("        "),h(a),h("marker.state !== -1 && ("),h(a),f("backupCount++);"),f("        return true;"),f("    }"),f("    /**"),f("     *  accept a character"),f("     *  @return - true if the character is consumed, false if not consumed"),f("     *  @api private"),f("     *  @internal"),f("     */"),h("    function "),h(a),h("acceptChar(ccode"),h(u(": number")),f("){"),h("        var lexstate = "),h(a),h("lexState["),h(a),f("lexState.length - 1];"),h("        var ltable = "),h(a),f("dfaTables[lexstate];"),h("        var isEnd = ltable.isEnd["),h(a),f("state] === 1;"),h("        var hasArc = ltable.hasArc["),h(a),f("state] === 1;"),f("        // get the class of the given character"),h("        var cl = ccode < ltable.maxAsicii ? ltable.classTable[ccode] : "),h(a),f("findUnicodeClass(ltable.unicodeClassTable, ccode);"),f("        // find the next state to go"),f("        var nstate = -1;"),f("        if(cl !== -1){"),h("            var ind = ltable.disnext["),h(a),f("state] + cl;"),h("            if(ind >= 0 && ind < ltable.pnext.length && ltable.checknext[ind] === "),h(a),f("state){"),f("                nstate = ltable.pnext[ind];"),f("            }"),f("        }"),f("        if(isEnd){"),f("            // if current state is a terminate state, be careful"),f("            if(hasArc){"),f("                if(nstate === -1){"),f("                    // nowhere to go, stay where we are"),h("                    "),h(a),h("doLexAction(lexstate, "),h(a),f("state);"),f("                    // recover"),h("                    "),h(a),f("marker.state = -1;"),h("                    "),h(a),f("backupCount = 0;"),h("                    "),h(a),f("state = 0;                    "),f("                    // character not consumed"),f("                    return false;"),f("                }"),f("                else {"),f("                    // now we can either go to that new state, or stay where we are"),f("                    // it is prefered to move forward, but that could lead to errors,"),f("                    // so we need to memorize this state before move on, in case if "),f("                    // an error occurs later, we could just return to this state."),h("                    "),h(a),f("mark();"),h("                    "),h(a),f("state = nstate;"),h("                    return "),h(a),f("consume(ccode);"),f("                }"),f("            }"),f("            else {"),f("                // current state doesn't lead to any state, just stay here."),h("                "),h(a),h("doLexAction(lexstate, "),h(a),f("state);"),f("                // recover"),h("                "),h(a),f("marker.state = -1;"),h("                "),h(a),f("backupCount = 0;"),h("                "),h(a),f("state = 0;"),f("                // character not consumed"),f("                return false;"),f("            }"),f("        }"),f("        else {"),f("            if(nstate === -1){"),f("                // nowhere to go at current state, error may have occured."),f("                // check marker to verify that"),h("                if("),h(a),f("marker.state !== -1){"),f("                    // we have a previously marked state, which is a terminate state."),h("                    var s = "),h(a),f("rollback();"),h("                    "),h(a),h("doLexAction(lexstate, "),h(a),f("state);"),h("                    "),h(a),f("state = 0;"),f("                    accept(s);"),f("                    // character not consumed"),f("                    return false;"),f("                }"),f("                else {"),f("                    // error occurs"),h("                    "),h(a),h("emit('lexicalerror', String.fromCharCode(ccode), "),h(a),h("line, "),h(a),f("column);"),f("                    // force consume"),f("                    return true;"),f("                }"),f("            }"),f("            else {"),h("                "),h(a),f("state = nstate;"),f("                // character consumed"),h("                return "),h(a),f("consume(ccode);"),f("            }"),f("        }"),f("    }"),h("    function "),h(a),f("acceptEOF(){"),h("        if("),h(a),f("state === 0){"),f("            // recover"),h("            "),h(a),f("prepareToken(0);"),h("            "),h(a),f("returnToken();"),f("            return true;"),f("        }"),f("        else {"),h("            var lexstate = "),h(a),h("lexState["),h(a),f("lexState.length - 1];"),h("            var ltable = "),h(a),f("dfaTables[lexstate];"),h("            var isEnd = ltable.isEnd["),h(a),f("state];"),f("            if(isEnd){"),h("                "),h(a),h("doLexAction(lexstate, "),h(a),f("state);"),h("                "),h(a),f("state = 0;"),h("                "),h(a),f("marker.state = -1;"),f("                return false;"),f("            }"),h("            else if("),h(a),f("marker.state !== -1){"),h("                var s = "),h(a),f("rollback();"),h("                "),h(a),h("doLexAction(lexstate, "),h(a),f("state);"),h("                "),h(a),f("state = 0;"),f("                accept(s);"),f("                return false;"),f("            }"),f("            else {"),h("                "),h(a),h("emit('lexicalerror', '', "),h(a),h("line, "),h(a),f("column);"),f("                return true;"),f("            }"),f("        }"),f("    }"),f("    /**"),f("     *  input a string"),f("     *  @api public"),f("     */"),h("    function accept(s"),h(u(": string")),f("){"),h("        for(var i = 0; i < s.length && !"),h(a),f("stop;){"),h("            "),h(a),f("acceptChar(s.charCodeAt(i)) && i++;"),f("        }"),f("    }"),f("    /**"),f("     *  tell the compiler that end of file is reached"),f("     *  @api public"),f("     */"),f("    function end(){"),h("        while(!"),h(a),h("stop && !"),h(a),f("acceptEOF());"),h("        "),h(a),f("stop = true;"),f("    }"),f("    function halt(){"),h("        "),h(a),f("stop = true;"),h("    }");f(""),h("    function "),h(a),h("doReduction("),h(a),h("rulenum"),h(u(": number")),f("){"),h("        var "),h(a),h("nt = "),h(a),h("lhs["),h(a),f("rulenum];"),h("        var "),h(a),h("sp = "),h(a),f("sematicS.length;"),h("        var "),h(a),h("top = "),h(a),h("sematicS["),h(a),h("sp - "),h(a),h("ruleLen["),h(a),f("rulenum]] || null;"),h("        switch("),h(a),h("rulenum){"),function(){for(var e={addBlock:function(t,e){f(""),h("                {"),h(t.replace(/\$\$/g,a+"top")),h("}")},pushLexState:function(t){f(""),h("                "),h(a),h("lexState.push("),h(t),h(");")},popLexState:function(){f(""),h("                "),h(a),h("lexState.pop();")},setImg:function(t){f(""),h("                "),h(a),h('setImg("'),h(t),h('");')},returnToken:function(t){}},n=0,r=t.file.grammar.rules;n<r.length;n++){var i=r[n];if(null!==i.action){f(""),h("            case "),h(i.index),f(":"),h("                /* "),h(i.toString()),h(" */");for(var o in i.vars)f(""),h("                var "),h(o),h(" = "),h(a),h("sematicS["),h(a),h("sp - "),h(i.rhs.length-i.vars[o].val),h("];");for(var s in i.usedVars)f(""),h("                var "),h(s),h(" = "),h(a),h("sematicS["),h(a),h("sp - "),h(i.usedVars[s].val),h("];");for(var u=0,l=i.action;u<l.length;u++)l[u].toCode(e);f(""),h("                break;")}}}(),f(""),f("        }"),h("        "),h(a),h("lrState.length -= "),h(a),h("ruleLen["),h(a),f("rulenum];"),h("        var "),h(a),h("cstate = "),h(a),h("lrState["),h(a),f("lrState.length - 1];"),h("        "),h(a),h("lrState.push("),h(a),h("pgoto["),h(a),h("disgoto["),h(a),h("cstate] + "),h(a),f("nt]);"),f(""),h("        "),h(a),h("sematicS.length -= "),h(a),h("ruleLen["),h(a),f("rulenum];"),h("        "),h(a),h("sematicS.push("),h(a),f("top);"),f("    }"),f(""),h("    function "),h(a),h("acceptToken(t"),h(u(": Token")),f("){"),f("        // look up action table"),h("        var cstate = "),h(a),h("lrState["),h(a),f("lrState.length - 1];"),h("        var ind = "),h(a),f("disact[cstate] + t.id;"),f("        var act = 0;"),h("        if(ind < 0 || ind >= "),h(a),h("pact.length || "),h(a),f("checkact[ind] !== cstate){"),h("            act = -"),h(a),f("defred[cstate] - 1;"),f("        }"),f("        else {"),h("            act = "),h(a),f("pact[ind];"),f("        }"),h("        if(act === "),h(a),f("actERR){"),f("            // explicit error"),h("            "),h(a),f("syntaxError(t);"),f("            return true;"),f("        }"),f("        else if(act > 0){"),f("            // shift"),f("            if(t.id === 0){"),f("                // end of file"),h("                "),h(a),f("stop = true;"),h("                "),h(a),f("emit('accept');"),f("                return true;"),f("            }"),f("            else {"),h("                "),h(a),f("lrState.push(act - 1);"),h("                "),h(a),h("sematicS.push("),h(a),f("sematicVal);"),h("                "),h(a),f("sematicVal = null;"),f("                // token consumed"),f("                return true;"),f("            }"),f("        }"),f("        else if(act < 0){"),h("            "),h(a),f("doReduction(-act - 1);"),f("            return false;"),f("        }"),f("        else {"),f("            // error"),h("            "),h(a),f("syntaxError(t);"),f("            // force consume"),f("            return true;"),f("        }"),f("    }"),h("    function "),h(a),h("syntaxError(t"),h(u(": Token")),f("){"),f('        var msg = "unexpected token " + t.toString() + ", expecting one of the following token(s):\\n"'),h("        msg += "),h(a),h("expected("),h(a),h("lrState["),h(a),f("lrState.length - 1]);"),h("        "),h(a),f('emit("syntaxerror", msg, t);'),f("    }"),h("    function "),h(a),h("expected(state"),h(u(": number")),f("){"),h("        var dis = "),h(a),f("disact[state];"),f("        var ret = '';"),h("        function expect(tk"),h(u(": number")),f("){"),f("            var ind = dis + tk;"),h("            if(ind < 0 || ind >= "),h(a),h("pact.length || state !== "),h(a),f("checkact[ind]){"),h("                return "),h(a),f("defred[state] !== -1;"),f("            }"),f("            else {"),f("                return true;"),f("            }"),f("        }"),h("        for(var tk = 0; tk < "),h(a),f("tokenCount; tk++){"),f('            expect(tk) && (ret += "    " + tokenToString(tk) + " ..." + \'\\n\');'),f("        }"),f("        return ret;"),f("    }"),f("}"),h(l(t.file.epilogue))},Pt={};function Vt(t,e){Pt[t]=e}Vt("typescript",function(t,e){Bt(t,e),e.save(t.file.name+".ts")}),Vt("javascript",function(t,e){Bt(t,e),e.save(t.file.name+".js")});function Mt(){var t=0,e=0,n=[],r=new h({createData:function(){return{id:-1,data:[]}},stringify:function(t){return"("+t.id+")"},union:function(r,i){-1===r.id?r.id=i.id:r.id<e&&(r.id=void 0!==n[r.id]?n[r.id]:n[r.id]=t++);for(var a=0,o=i.data;a<o.length;a++){var s=o[a];r.data.push(s)}}});return{addClass:function(i,a){var o=t;e=t++,n.length=0,i.forEach(function(t,e,n){r.add(t,e,{id:o,data:[a]})})},done:function(){return n.length=0,t=0,r.forEach(function(e,r,i){i.data.id=void 0!==n[i.data.id]?n[i.data.id]:n[i.data.id]=t++}),{classCount:t,classSet:r}}}}var Gt=function(){function t(t,e){void 0===e&&(e=255),this.maxAsicii=e;function n(t,e,n){for(;t<=e;t++)a[t]=n}var r=Mt();t.forEachArc(function(t,e,n){r.addClass(t.chars,t)});var i=r.done();this.classCount=i.classCount,this.states=t.states;var a=this.classTable=Y(e+1,function(t){return-1}),o=this.unicodeClassTable=[],s=Y(i.classCount*t.states.length,function(t){return null});i.classSet.forEach(function(t,r,a){t>e?o.push(a.data.id,t,r):r<=e?n(t,r,a.data.id):(n(t,e,a.data.id),e<r&&o.push(a.data.id,e+1,r));for(var u=0,l=a.data.data;u<l.length;u++){var c=l[u];s[c.from.index*i.classCount+a.data.id]=c}});var u=W(function(t,e,n){for(var r=[],i=0;i<t;i++){r.push(0);for(var a=0;a<e;a++)null===n[i*e+a]&&r[i]++}return{rows:t,columns:e,isEmpty:function(t,r){return null===n[t*e+r]},emptyCount:function(t){return r[t]}}}(this.states.length,i.classCount,s));this.disnext=u.dps,this.pnext=Y(u.len,function(t){return null}),this.checknext=Y(u.len,function(t){return-1});for(var l=0;l<this.states.length;l++)for(var c=0;c<this.classCount;c++){var h=s[l*this.classCount+c];null!==h&&(this.pnext[this.disnext[l]+c]=h,this.checknext[this.disnext[l]+c]=l)}}return t.prototype.lookup=function(t,e){var n=this.disnext[t]+e;return n>=0&&n<this.pnext.length&&this.checknext[n]===t?this.pnext[n]:null},t.prototype.print=function(t){for(var e=0,n=0;n<this.classTable.length;n++)-1!==this.classTable[n]&&t.write((r=n,(r>=32&&r<=126?"'"+String.fromCharCode(r)+"'":"\\x"+r.toString(16))+" -> c"+this.classTable[n]+", ")),e++>9&&(t.writeln(),e=0);var r;t.writeln(),e=0;n=0;for(var i=this.unicodeClassTable;n<i.length;n+=3)t.write("\\x"+i[n+1]+"-\\x"+i[n+2]+" -> c"+i[n]+", "),e++>4&&(t.writeln(),e=0);t.writeln();for(var a=0;a<this.states.length;a++){t.writeln("state "+a+":");var o=this.states[a];null!==o.endAction&&t.writeln("    end = "+o.endAction.id);for(n=0;n<this.classCount;n++){var s=this.lookup(a,n);null!==s&&t.writeln("    c"+n+": state "+s.to.index)}}},t}();var Ht=Object.freeze({compress:W,IntervalSet:h,createClassFinder:Mt});t.Pattern=_,t.io=k,t.debug=Ht,t.setDebugger=function(t){return o.log=t.log},t.setTab=function(t){return a=t},t.genResult=function(t,e){for(var n,r,i,s,u=[],l=[],c=[],h=!1,f={warn:$,err:W,printItemSets:function(t){t.writeln(r.size+" state(s) in total,finished in "+i+" iteration(s)."),r.forEach(function(e){t.writeln(e.toString({showTrailer:!0}))})},printTable:function(t){!function(t,e,n){var r=e.g,i=r.tokenCount,o=r.nts.length;n.forEach(function(n){var s=n.stateIndex,u="",l="",c="";t.writeln("state "+s),n.forEach(function(e){t.writeln(a+e.toString({showTrailer:!1}))}),-1!==e.defred[s]?t.writeln(a+"default action: reduce with rule "+e.defred[s]):t.writeln(a+"no default action");for(var h=0;h<i;h++)null!==(f=e.lookupShift(s,h))&&f!==F.NULL&&(f.actionType===I.SHIFT?u+=""+a+M(r.tokens[h])+" : shift, and go to state "+f.shift.stateIndex+d:l+=""+a+M(r.tokens[h])+" : reduce with rule "+f.rule.index+d);for(h=0;h<o;h++){var f;null!==(f=e.lookupGoto(s,h))&&(c+=""+a+r.nts[h].sym+" : go to state "+f.shift.stateIndex+d)}t.writeln(u+l+c),t.writeln("")})}(t,s,r)},printDFA:function(t){for(var e=0,r=n.dfaTables;e<r.length;e++){var i=r[e];i.print(t),t.writeln(),t.writeln()}},testParse:function(t){return function(t,e,n){for(var r=[],i=0,a=n;i<a.length;i++){var o=a[i],s=void 0;if(/<[^>]+>/.test(o)){if(null===(s=t.findTokenByName(o.substr(1,o.length-2))))throw new w("cannot recognize "+o+" as a token")}else{var u=t.findTokensByAlias(o);if(0===u.length)throw new w('cannot recognize "'+o+'" as a token');if(u.length>1){for(var l="",c=0,h=u;c<h.length;c++)l+="<"+h[c].sym+"> ";throw new w('cannot recognize "'+o+'" as a token, since it can be '+l)}s=u[0]}r.push(s)}var f=[0],d=[],p=[];function v(){return f[f.length-1]}function g(t){f.push(t);var e=r.shift();d.push(M(e))}function m(t){f.length-=t.rhs.length,d.length-=t.rhs.length,d.push(t.lhs.sym);var n=e.lookupGoto(v(),t.lhs.index).shift.stateIndex;f.push(n)}function k(){for(var t="",e=0,n=d;e<n.length;e++)t+=n[e]+" ";t+="| ";for(var i=0,a=r;i<a.length;i++)t+=M(a[i]),t+=" ";return t}for(p.push(k());;){var x=e.lookupShift(v(),r[0]?r[0].index:0);if(null!==x){if(x===F.NULL){p.push("syntax error!");break}if(x.actionType===I.SHIFT){if(0===r.length){p.push("accepted!");break}g(x.shift.stateIndex)}else if(x.actionType===I.REDUCE){if(m(x.rule))break}else console.assert(!1)}else{var b=e.defred[v()];if(-1===b){p.push("syntax error!");break}m(t.rules[b])}p.push(k())}return p}(n.grammar,s,t)},printError:function(t,e){for(var n=0,r=u;n<r.length;n++){var i=r[n];t.writeln(i.toString(e))}t.writeln()},printWarning:function(t,e){for(var n=0,r=l;n<r.length;n++){var i=r[n];t.writeln(i.toString(e))}t.writeln()},hasWarning:function(){return l.length>0},hasError:Y,warningSummary:function(){return l.length+" warning(s), "+u.length+" error(s)"},getTemplateInput:function(){return{endl:"\n",output:null===p.output?"typescript":p.output.val,pt:s,file:n}},requireLines:function(t){return c.push(t)},isTerminated:function(){return h}},p=Ft(f,t),v=t.split("\n"),g=0,m=c;g<m.length;g++)(0,m[g])(f,v);if(Y())return h=!0,f;p.name=e;var k=p.grammar;n=p;for(var x=0,b=k.tokens;x<b.length;x++){var y=b[x];if(!y.used){for(var S="token <"+y.sym+"> is never used, definations are(is):"+d,T=0,E=y.appears;T<E.length;T++)S+=nt(E[T],v);$(new A(S))}}for(var C=0,N=k.nts;C<N.length;C++){var R=N[C];R.used||$(new A('non terminal "'+R.sym+'" is unreachable'))}null!==p.output&&(L=p.output.val,void 0===Pt[L])&&(S="template for '"+p.output.val+"' is not implemented yet "+nt(p.output,v)+d,S+="available templates are: "+Object.keys(Pt).join(", "),W(new w(S)));var L;if(Y())return h=!0,f;k.genFirstSets();var _=z(k);r=_.result,i=_.iterations;var D=function(t,e){var n=[];function r(e,r,i){var a=t.tokens[r.getShift()];if(a.assoc!==U.UNDEFINED){var s=i.rule.pr;if(-1!==s){if(s>a.pr)return i;if(s<a.pr)return r;if(a.assoc===U.LEFT)return i;if(a.assoc===U.RIGHT)return r;if(a.assoc===U.NON)return F.NULL;o.assert(!1)}}var u=new j;return u.type=G.SR,u.set=e,u.token=a,u.used=r,u.discarded=i,n.push(u),r}function i(e,r,i,a){var o=t.tokens[a];if(-1!==r.rule.pr&&-1!==i.rule.pr&&r.rule.pr!==i.rule.pr)return r.rule.pr>i.rule.pr?r:i;var s=r.rule.index>i.rule.index?i:r,u=r.rule.index>i.rule.index?r:i,l=new j;return l.type=G.RR,l.set=e,l.token=o,l.used=s,l.discarded=u,n.push(l),s}var a=new H(t,e.size);return e.forEach(function(e){e.forEach(function(n){if(n.actionType===I.SHIFT){var s=n.getShift();if(t.isToken(s)){var u=e.stateIndex*t.tokenCount+s;null!==(c=a.shift[u])?c.actionType===I.REDUCE?a.shift[u]=r(e,n,c):o.assert(c.shift===n.shift):a.shift[u]=n}else u=e.stateIndex*t.nts.length+(-s-1),a.gotot[u]=n}else if(n.actionType===I.REDUCE){for(var l=0;l<t.tokenCount;l++)if(n.lah.contains(l+1)){var c,h=e.stateIndex*t.tokenCount+l;null!==(c=a.shift[h])?c.actionType===I.REDUCE?a.shift[h]=i(e,c,n,l):c.actionType===I.SHIFT&&(a.shift[h]=r(e,c,n)):a.shift[h]=n}}else o.assert(!1)})}),{result:a,conflicts:n}}(k,r);D.result.findDefAct(),s=new Q(D.result);for(var O=0,B=D.conflicts;O<B.length;O++){var P=B[O];$(new A(P.toString()))}for(var V=0,K=n.lexDFA;V<K.length;V++){var q=K[V];n.dfaTables.push(new Gt(q))}return f;function $(t){l.push(t)}function W(t){u.push(t)}function Y(){return u.length>0}},t.generateCode=function(t,e,n,r){if(void 0===Pt[t])throw'template for language "'+t+'" is not implemented yet';Pt[t](e,n)},t.defineTemplate=Vt,Object.defineProperty(t,"__esModule",{value:!0})});
